(self.webpackChunkfire_chat=self.webpackChunkfire_chat||[]).push([[179],{255:Fo=>{function Lr(gr){return Promise.resolve().then(()=>{var Mn=new Error("Cannot find module '"+gr+"'");throw Mn.code="MODULE_NOT_FOUND",Mn})}Lr.keys=()=>[],Lr.resolve=Lr,Lr.id=255,Fo.exports=Lr},676:function(Fo,Lr){!function(gr){"use strict";function Mn(L){return Array.prototype.slice.call(L)}function Lo(L){return new Promise(function(ie,le){L.onsuccess=function(){ie(L.result)},L.onerror=function(){le(L.error)}})}function jt(L,ie,le){var Te,de=new Promise(function(J,qi){Lo(Te=L[ie].apply(L,le)).then(J,qi)});return de.request=Te,de}function Hi(L,ie,le){var Te=jt(L,ie,le);return Te.then(function(de){if(de)return new be(de,Te.request)})}function mr(L,ie,le){le.forEach(function(Te){Object.defineProperty(L.prototype,Te,{get:function(){return this[ie][Te]},set:function(de){this[ie][Te]=de}})})}function hi(L,ie,le,Te){Te.forEach(function(de){de in le.prototype&&(L.prototype[de]=function(){return jt(this[ie],de,arguments)})})}function Gi(L,ie,le,Te){Te.forEach(function(de){de in le.prototype&&(L.prototype[de]=function(){return this[ie][de].apply(this[ie],arguments)})})}function xg(L,ie,le,Te){Te.forEach(function(de){de in le.prototype&&(L.prototype[de]=function(){return Hi(this[ie],de,arguments)})})}function Yn(L){this._index=L}function be(L,ie){this._cursor=L,this._request=ie}function kn(L){this._store=L}function Vr(L){this._tx=L,this.complete=new Promise(function(ie,le){L.oncomplete=function(){ie()},L.onerror=function(){le(L.error)},L.onabort=function(){le(L.error)}})}function qu(L,ie,le){this._db=L,this.oldVersion=ie,this.transaction=new Vr(le)}function Ie(L){this._db=L}mr(Yn,"_index",["name","keyPath","multiEntry","unique"]),hi(Yn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),xg(Yn,"_index",IDBIndex,["openCursor","openKeyCursor"]),mr(be,"_cursor",["direction","key","primaryKey","value"]),hi(be,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(L){L in IDBCursor.prototype&&(be.prototype[L]=function(){var ie=this,le=arguments;return Promise.resolve().then(function(){return ie._cursor[L].apply(ie._cursor,le),Lo(ie._request).then(function(Te){if(Te)return new be(Te,ie._request)})})})}),kn.prototype.createIndex=function(){return new Yn(this._store.createIndex.apply(this._store,arguments))},kn.prototype.index=function(){return new Yn(this._store.index.apply(this._store,arguments))},mr(kn,"_store",["name","keyPath","indexNames","autoIncrement"]),hi(kn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),xg(kn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Gi(kn,"_store",IDBObjectStore,["deleteIndex"]),Vr.prototype.objectStore=function(){return new kn(this._tx.objectStore.apply(this._tx,arguments))},mr(Vr,"_tx",["objectStoreNames","mode"]),Gi(Vr,"_tx",IDBTransaction,["abort"]),qu.prototype.createObjectStore=function(){return new kn(this._db.createObjectStore.apply(this._db,arguments))},mr(qu,"_db",["name","version","objectStoreNames"]),Gi(qu,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new Vr(this._db.transaction.apply(this._db,arguments))},mr(Ie,"_db",["name","version","objectStoreNames"]),Gi(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(L){[kn,Yn].forEach(function(ie){L in ie.prototype&&(ie.prototype[L.replace("open","iterate")]=function(){var le=Mn(arguments),Te=le[le.length-1],de=this._store||this._index,J=de[L].apply(de,le.slice(0,-1));J.onsuccess=function(){Te(J.result)}})})}),[Yn,kn].forEach(function(L){L.prototype.getAll||(L.prototype.getAll=function(ie,le){var Te=this,de=[];return new Promise(function(J){Te.iterateCursor(ie,function(qi){qi?(de.push(qi.value),void 0===le||de.length!=le?qi.continue():J(de)):J(de)})})})}),gr.openDb=function(L,ie,le){var Te=jt(indexedDB,"open",[L,ie]),de=Te.request;return de&&(de.onupgradeneeded=function(J){le&&le(new qu(de.result,J.oldVersion,de.transaction))}),Te.then(function(J){return new Ie(J)})},gr.deleteDb=function(L){return jt(indexedDB,"deleteDatabase",[L])},Object.defineProperty(gr,"__esModule",{value:!0})}(Lr)},473:(Fo,Lr,gr)=>{"use strict";function Mn(t){return"function"==typeof t}let Lo=!1;const jt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Lo&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Lo=t},get useDeprecatedSynchronousErrorHandling(){return Lo}};function Hi(t){setTimeout(()=>{throw t},0)}const mr={closed:!0,next(t){},error(t){if(jt.useDeprecatedSynchronousErrorHandling)throw t;Hi(t)},complete(){}},hi=Array.isArray||(t=>t&&"number"==typeof t.length);function Gi(t){return null!==t&&"object"==typeof t}const Yn=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class be{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof be)n.remove(this);else if(null!==n)for(let o=0;o<n.length;++o)n[o].remove(this);if(Mn(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof Yn?kn(o.errors):[o]}}if(hi(s)){let o=-1,a=s.length;for(;++o<a;){const u=s[o];if(Gi(u))try{u.unsubscribe()}catch(c){e=e||[],c instanceof Yn?e=e.concat(kn(c.errors)):e.push(c)}}}if(e)throw new Yn(e)}add(e){let n=e;if(!e)return be.EMPTY;switch(typeof e){case"function":n=new be(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof be)){const s=n;n=new be,n._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof be){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function kn(t){return t.reduce((e,n)=>e.concat(n instanceof Yn?n.errors:n),[])}be.EMPTY=((t=new be).closed=!0,t);const Vr="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ie extends be{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=mr;break;case 1:if(!e){this.destination=mr;break}if("object"==typeof e){e instanceof Ie?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new bd(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new bd(this,e,n,r)}}[Vr](){return this}static create(e,n,r){const i=new Ie(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class bd extends Ie{constructor(e,n,r,i){super(),this._parentSubscriber=e;let s,o=this;Mn(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==mr&&(o=Object.create(n),Mn(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;jt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=jt;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):Hi(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Hi(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);jt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),jt.useDeprecatedSynchronousErrorHandling)throw r;Hi(r)}}__tryOrSetError(e,n,r){if(!jt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return jt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Hi(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function le(t){return t}let J=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:s}=this,o=function(t,e,n){if(t){if(t instanceof Ie)return t;if(t[Vr])return t[Vr]()}return t||e||n?new Ie(t,e,n):new Ie(mr)}(n,r,i);if(o.add(s?s.call(o,this.source):this.source||jt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),jt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){jt.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof Ie?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=qi(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[ie](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?le:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=qi(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qi(t){if(t||(t=jt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Vo=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class mj extends be{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class c0 extends Ie{constructor(e){super(e),this.destination=e}}let fi=(()=>{class t extends J{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Vr](){return new c0(this)}lift(n){const r=new l0(this,this);return r.operator=n,r}next(n){if(this.closed)throw new Vo;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(n)}}error(n){if(this.closed)throw new Vo;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(n);this.observers.length=0}complete(){if(this.closed)throw new Vo;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Vo;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Vo;return this.hasError?(n.error(this.thrownError),be.EMPTY):this.isStopped?(n.complete(),be.EMPTY):(this.observers.push(n),new mj(this,n))}asObservable(){const n=new J;return n.source=this,n}}return t.create=(e,n)=>new l0(e,n),t})();class l0 extends fi{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):be.EMPTY}}function Id(t){return t&&"function"==typeof t.schedule}function ve(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new yj(t,e))}}class yj{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new _j(e,this.project,this.thisArg))}}class _j extends Ie{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const d0=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},Cd="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",h0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function f0(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const Ng=t=>{if(t&&"function"==typeof t[ie])return(t=>e=>{const n=t[ie]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(h0(t))return d0(t);if(f0(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hi),e))(t);if(t&&"function"==typeof t[Cd])return(t=>e=>{const n=t[Cd]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${Gi(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Mg(t,e){return new J(n=>{const r=new be;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function At(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[ie]}(t))return function(t,e){return new J(n=>{const r=new be;return r.add(e.schedule(()=>{const i=t[ie]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>n.next(s)))},error(s){r.add(e.schedule(()=>n.error(s)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(f0(t))return function(t,e){return new J(n=>{const r=new be;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(h0(t))return Mg(t,e);if(function(t){return t&&"function"==typeof t[Cd]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{const r=new be;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[Cd](),r.add(e.schedule(function(){if(n.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void n.error(a)}o?n.complete():(n.next(s),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof J?t:new J(Ng(t))}class kg extends Ie{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Og extends Ie{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Pg(t,e){if(e.closed)return;if(t instanceof J)return t.subscribe(e);let n;try{n=Ng(t)(e)}catch(r){e.error(r)}return n}function St(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(St((i,s)=>At(t(i,s)).pipe(ve((o,a)=>e(i,o,s,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new xj(t,n)))}class xj{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new Rj(e,this.project,this.concurrent))}}class Rj extends Og{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new kg(this),r=this.destination;r.add(n);const i=Pg(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Wu(t=Number.POSITIVE_INFINITY){return St(le,t)}function Fg(t,e){return e?Mg(t,e):new J(d0(t))}function Lg(){return function(e){return e.lift(new Mj(e))}}class Mj{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new kj(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class kj extends Ie{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class p0 extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new be,e.add(this.source.subscribe(new Pj(this.getSubject(),this))),e.closed&&(this._connection=null,e=be.EMPTY)),e}refCount(){return Lg()(this)}}const Oj=(()=>{const t=p0.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Pj extends c0{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function Uj(){return new fi}function me(t){for(let e in t)if(t[e]===me)return e;throw Error("Could not find renamed property on target object.")}function Vg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ug(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Bj=me({__forward_ref__:me});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return re(this())},t}function F(t){return g0(t)?t():t}function g0(t){return"function"==typeof t&&t.hasOwnProperty(Bj)&&t.__forward_ref__===Se}class Rs extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function Xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}function Dd(t,e){const n=e?` in ${e}`:"";throw new Rs("201",`No provider for ${Xt(t)} found${n}`)}function Pn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function gi(t){return m0(t,Td)||m0(t,_0)}function m0(t,e){return t.hasOwnProperty(e)?t[e]:null}function y0(t){return t&&(t.hasOwnProperty(Bg)||t.hasOwnProperty(Kj))?t[Bg]:null}const Td=me({\u0275prov:me}),Bg=me({\u0275inj:me}),_0=me({ngInjectableDef:me}),Kj=me({ngInjectorDef:me});var V=(()=>((V=V||{})[V.Default=0]="Default",V[V.Host=1]="Host",V[V.Self=2]="Self",V[V.SkipSelf=4]="SkipSelf",V[V.Optional=8]="Optional",V))();let $g;function Wi(t){const e=$g;return $g=t,e}function v0(t,e,n){const r=gi(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&V.Optional?null:void 0!==e?e:void Dd(re(t),"Injector")}function zi(t){return{toString:t}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),at=(()=>((at=at||{})[at.Emulated=0]="Emulated",at[at.None=2]="None",at[at.ShadowDom=3]="ShadowDom",at))();const Yj="undefined"!=typeof globalThis&&globalThis,Jj="undefined"!=typeof window&&window,Zj="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee=Yj||"undefined"!=typeof global&&global||Jj||Zj,Uo={},De=[],Ad=me({\u0275cmp:me}),Hg=me({\u0275dir:me}),Gg=me({\u0275pipe:me}),E0=me({\u0275mod:me}),Xj=me({\u0275loc:me}),mi=me({\u0275fac:me}),zu=me({__NG_ELEMENT_ID__:me});let eB=0;function Ku(t){return zi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||De,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||at.Emulated,id:"c",styles:t.styles||De,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=eB++,r.inputs=C0(t.inputs,n),r.outputs=C0(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(w0):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(b0):null,r})}function w0(t){return tn(t)||function(t){return t[Hg]||null}(t)}function b0(t){return function(t){return t[Gg]||null}(t)}const I0={};function Fn(t){return zi(()=>{const e={type:t.type,bootstrap:t.bootstrap||De,declarations:t.declarations||De,imports:t.imports||De,exports:t.exports||De,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(I0[t.id]=t.type),e})}function C0(t,e){if(null==t)return Uo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const j=Ku;function tn(t){return t[Ad]||null}function Zn(t,e){const n=t[E0]||null;if(!n&&!0===e)throw new Error(`Type ${re(t)} does not have '\u0275mod' property.`);return n}function Ur(t){return Array.isArray(t)&&"object"==typeof t[1]}function _r(t){return Array.isArray(t)&&!0===t[1]}function zg(t){return 0!=(8&t.flags)}function Nd(t){return 2==(2&t.flags)}function Md(t){return 1==(1&t.flags)}function vr(t){return null!==t.template}function aB(t){return 0!=(512&t[2])}function Ps(t,e){return t.hasOwnProperty(mi)?t[mi]:null}class T0{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $t(){return A0}function A0(t){return t.type.prototype.ngOnChanges&&(t.setInput=dB),lB}function lB(){const t=x0(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Uo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dB(t,e,n,r){const i=x0(t)||function(t,e){return t[S0]=e}(t,{previous:Uo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new T0(u&&u.currentValue,e,o===Uo),t[r]=e}$t.ngInherit=!0;const S0="__ngSimpleChanges__";function x0(t){return t[S0]||null}let Yg;function Ge(t){return!!t.listen}const M0={createRenderer:(t,e)=>void 0!==Yg?Yg:"undefined"!=typeof document?document:void 0};function Xe(t){for(;Array.isArray(t);)t=t[0];return t}function kd(t,e){return Xe(e[t])}function tr(t,e){return Xe(e[t.index])}function Zg(t,e){return t.data[e]}function Vn(t,e){const n=e[t];return Ur(n)?n:n[0]}function Xg(t){return 128==(128&t[2])}function Qi(t,e){return null==e?null:t[e]}function O0(t){t[18]=0}function em(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const G={lFrame:$0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function P0(){return G.bindingsEnabled}function b(){return G.lFrame.lView}function he(){return G.lFrame.tView}function ut(){let t=F0();for(;null!==t&&64===t.type;)t=t.parent;return t}function F0(){return G.lFrame.currentTNode}function jr(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e}function tm(){return G.lFrame.isParent}function Od(){return G.isInCheckNoChangesMode}function Pd(t){G.isInCheckNoChangesMode=t}function qo(){return G.lFrame.bindingIndex++}function AB(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,rm(e)}function rm(t){G.lFrame.currentDirectiveIndex=t}function sm(t){G.lFrame.currentQueryIndex=t}function xB(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function j0(t,e,n){if(n&V.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&V.Host||(i=xB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=G.lFrame=B0();return r.currentTNode=e,r.lView=t,!0}function Fd(t){const e=B0(),n=t[1];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function B0(){const t=G.lFrame,e=null===t?null:t.child;return null===e?$0(t):e}function $0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function H0(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const G0=H0;function Ld(){const t=H0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rn(){return G.lFrame.selectedIndex}function Yi(t){G.lFrame.selectedIndex=t}function Vd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Ud(t,e,n){q0(t,e,3,n)}function jd(t,e,n,r){(3&t[2])===n&&q0(t,e,n,r)}function om(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function q0(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(VB(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function VB(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Xu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Bd(t,e,n){const r=Ge(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];um(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function W0(t){return 3===t||4===t||6===t}function um(t){return 64===t.charCodeAt(0)}function $d(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||z0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function z0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function K0(t){return-1!==t}function Wo(t){return 32767&t}function zo(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let cm=!0;function Hd(t){const e=cm;return cm=t,e}let GB=0;function tc(t,e){const n=dm(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,lm(r.data,t),lm(e,null),lm(r.blueprint,null));const i=Gd(t,e),s=t.injectorIndex;if(K0(i)){const o=Wo(i),a=zo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function lm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dm(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function qd(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(zu)&&(r=n[zu]),null==r&&(r=n[zu]=GB++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function J0(t,e,n){if(n&V.Optional)return t;Dd(e,"NodeInjector")}function Z0(t,e,n,r){if(n&V.Optional&&void 0===r&&(r=null),0==(n&(V.Self|V.Host))){const i=t[9],s=Wi(void 0);try{return i?i.get(e,r,n&V.Optional):v0(e,r,n&V.Optional)}finally{Wi(s)}}return J0(r,e,n)}function X0(t,e,n,r=V.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(zu)?t[zu]:void 0;return"number"==typeof e?e>=0?255&e:zB:e}(n);if("function"==typeof s){if(!j0(e,t,r))return r&V.Host?J0(i,n,r):Z0(e,n,r,i);try{const o=s(r);if(null!=o||r&V.Optional)return o;Dd(n)}finally{G0()}}else if("number"==typeof s){let o=null,a=dm(t,e),u=-1,c=r&V.Host?e[16][6]:null;for((-1===a||r&V.SkipSelf)&&(u=-1===a?Gd(t,e):e[a+8],-1!==u&&nA(r,!1)?(o=e[1],a=Wo(u),e=zo(u,e)):a=-1);-1!==a;){const l=e[1];if(tA(s,a,l.data)){const d=KB(a,e,n,o,r,c);if(d!==eA)return d}u=e[a+8],-1!==u&&nA(r,e[1].data[a+8]===c)&&tA(s,a,e)?(o=l,a=Wo(u),e=zo(u,e)):a=-1}}}return Z0(e,n,r,i)}const eA={};function zB(){return new Ko(ut(),b())}function KB(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&vr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Nd(a)&&cm:r!=o&&0!=(3&a.type),i&V.Host&&s===a);return null!==l?nc(e,o,l,a):eA}function nc(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof Xu}(i)){const o=i;o.resolving&&function(t,e){throw new Rs("200",`Circular dependency in DI detected for ${t}`)}(Xt(s[n]));const a=Hd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Wi(o.injectImpl):null;j0(t,r,V.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=A0(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Wi(u),Hd(a),o.resolving=!1,G0()}}return i}function tA(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function nA(t,e){return!(t&V.Self||t&V.Host&&e)}class Ko{constructor(e,n){this._tNode=e,this._lView=n}get(e,n){return X0(this._tNode,this._lView,e,void 0,n)}}function nr(t){return zi(()=>{const e=t.prototype.constructor,n=e[mi]||hm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[mi]||hm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hm(t){return g0(t)?()=>{const e=hm(F(t));return e&&e()}:Ps(t)}const Yo="__parameters__";function Fs(t,e,n){return zi(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Yo)?u[Yo]:Object.defineProperty(u,Yo,{value:[]})[Yo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ZB=new te("AnalyzeForEntryComponents"),zd=Function;function $r(t,e){t.forEach(n=>Array.isArray(n)?$r(n,e):e(n))}function Qd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ls(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Un(t,e,n){let r=Zo(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pm(t,e){const n=Zo(t,e);if(n>=0)return t[1|n]}function Zo(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ac={},mm="__NG_DI_FLAG__",Xo="ngTempTokenPath",u$=/\n/gm,ym="__source",_m=me({provide:String,useValue:me});let uc;function ea(t){const e=uc;return uc=t,e}function l$(t,e=V.Default){if(void 0===uc)throw new Error("inject() must be called from an injection context");return null===uc?v0(t,void 0,e):uc.get(t,e&V.Optional?null:void 0,e)}function R(t,e=V.Default){return($g||l$)(F(t),e)}function Vs(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=V.Default;for(let o=0;o<r.length;o++){const a=r[o],u=d$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function cc(t,e){return t[mm]=e,t.prototype[mm]=e,t}function d$(t){return t[mm]}function uA(t,e,n,r){const i=t[Xo];throw e[ym]&&i.unshift(e[ym]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=re(e);if(Array.isArray(e))i=e.map(re).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):re(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(u$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Xo]=null,t}const ta=cc(Fs("Inject",t=>({token:t})),-1),Fe=cc(Fs("Optional"),8),Xi=cc(Fs("SkipSelf"),4);const AA="__ngContext__";function Ht(t,e){t[AA]=e}function Sm(t){const e=function(t){return t[AA]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function nh(t){return t.ngOriginalError}function iH(t,...e){t.error(...e)}class js{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||iH}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(nh(e)):null}_findOriginalError(e){let n=e&&nh(e);for(;n&&nh(n);)n=nh(n);return n||null}}const FA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))();function qr(t){return t instanceof Function?t():t}var Bn=(()=>((Bn=Bn||{})[Bn.Important=1]="Important",Bn[Bn.DashCase=2]="DashCase",Bn))();function Nm(t,e){return undefined(t,e)}function gc(t){const e=t[3];return _r(e)?e[3]:e}function Mm(t){return BA(t[13])}function km(t){return BA(t[4])}function BA(t){for(;null!==t&&!_r(t);)t=t[4];return t}function sa(t,e,n,r,i){if(null!=r){let s,o=!1;_r(r)?s=r:Ur(r)&&(o=!0,r=r[0]);const a=Xe(r);0===t&&null!==n?null==i?zA(e,n,a):Bs(e,n,a,i||null,!0):1===t&&null!==n?Bs(e,n,a,i||null,!0):2===t?function(t,e,n){const r=ih(t,e);r&&function(t,e,n,r){Ge(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Xe(n)&&sa(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];mc(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Pm(t,e,n){return Ge(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function HA(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,em(i,-1)),n.splice(r,1)}function Fm(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&HA(i,r),e>0&&(t[n-1][4]=r[4]);const s=Ls(t,10+e);!function(t,e){mc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function GA(t,e){if(!(256&e[2])){const n=e[11];Ge(n)&&n.destroyNode&&mc(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Lm(t[1],t);for(;e;){let n=null;if(Ur(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ur(e)&&Lm(e[1],e),e=e[3];null===e&&(e=t),Ur(e)&&Lm(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lm(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Xu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Xe(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Ge(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&_r(e[3])){n!==e[3]&&HA(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qA(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===at.None||i===at.Emulated)return null}return tr(r,n)}(t,e.parent,n)}function Bs(t,e,n,r,i){Ge(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zA(t,e,n){Ge(t)?t.appendChild(e,n):e.appendChild(n)}function KA(t,e,n,r,i){null!==r?Bs(t,e,n,r,i):zA(t,e,n)}function ih(t,e){return Ge(t)?t.parentNode(e):e.parentNode}let JA=function(t,e,n){return 40&t.type?tr(t,n):null};function sh(t,e,n,r){const i=qA(t,r,e),s=e[11],a=function(t,e,n){return JA(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)KA(s,i,n[u],a,!1);else KA(s,i,n,a,!1)}function oh(t,e){if(null!==e){const n=e.type;if(3&n)return tr(e,t);if(4&n)return Um(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return oh(t,r);{const i=t[e.index];return _r(i)?Um(-1,i):Xe(i)}}if(32&n)return Nm(e,t)()||Xe(t[e.index]);{const r=XA(t,e);return null!==r?Array.isArray(r)?r[0]:oh(gc(t[16]),r):oh(t,e.next)}}return null}function XA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Um(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return oh(r,i)}return e[7]}function jm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ht(Xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)jm(t,e,n.child,r,i,s,!1),sa(e,t,i,a,s);else if(32&u){const c=Nm(n,r);let l;for(;l=c();)sa(e,t,i,l,s);sa(e,t,i,a,s)}else 16&u?tS(t,e,r,n,i,s):sa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mc(t,e,n,r,i,s){jm(n,r,t.firstChild,e,i,s,!1)}function tS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)sa(e,t,i,u[c],s);else jm(t,e,u,o[3],i,s,!0)}function nS(t,e,n){Ge(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Bm(t,e,n){Ge(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function rS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const iS="ng-template";function RH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==rS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function sS(t){return 4===t.type&&t.value!==iS}function NH(t,e,n){return e===(4!==t.type||n?t.value:iS)}function MH(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(W0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!NH(t,u,n)||""===u&&1===e.length){if(Er(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!RH(t.attrs,c,n)){if(Er(r))return!1;o=!0}continue}const d=kH(8&r?"class":u,i,sS(t),n);if(-1===d){if(Er(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==rS(f,c,0)||2&r&&c!==h){if(Er(r))return!1;o=!0}}}}else{if(!o&&!Er(r)&&!Er(u))return!1;if(o&&Er(u))continue;o=!1,r=u|1&r}}return Er(r)||o}function Er(t){return 0==(1&t)}function kH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oS(t,e,n=!1){for(let r=0;r<e.length;r++)if(MH(t,e[r],n))return!0;return!1}function aS(t,e){return t?":not("+e.trim()+")":e}function VH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Er(o)&&(e+=aS(s,i),i=""),r=o,s=s||!Er(r);n++}return""!==i&&(e+=aS(s,i)),e}const W={};function ah(t){uS(he(),b(),rn()+t,Od())}function uS(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Ud(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jd(e,s,0,n)}Yi(n)}function uh(t,e){return t<<17|e<<2}function wr(t){return t>>17&32767}function $m(t){return 2|t}function _i(t){return(131068&t)>>2}function Hm(t,e){return-131069&t|e<<2}function Gm(t){return 1|t}function _S(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];sm(i),o.contentQueries(2,e[s],s)}}}function yc(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,O0(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function oa(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=F0(),o=tm(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),G.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return jr(s,!0),s}function aa(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _c(t,e,n){Fd(e);try{const r=t.viewQuery;null!==r&&oy(1,r,n);const i=t.template;null!==i&&vS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_S(t,e),t.staticViewQueries&&oy(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)yG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Ld()}}function ua(t,e,n,r){const i=e[2];if(256==(256&i))return;Fd(e);const s=Od();try{O0(e),function(t){G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&vS(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Ud(e,c,null)}else{const c=t.preOrderHooks;null!==c&&jd(e,c,0,null),om(e,0)}if(function(t){for(let e=Mm(t);null!==e;e=km(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&em(s,1),i[2]|=1024}}}(e),function(t){for(let e=Mm(t);null!==e;e=km(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Xg(r)&&ua(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&_S(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Ud(e,c)}else{const c=t.contentHooks;null!==c&&jd(e,c,1),om(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Yi(~i);else{const s=i,o=n[++r],a=n[++r];AB(o,s),a(2,e[s])}}}finally{Yi(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)mG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&oy(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Ud(e,c)}else{const c=t.viewHooks;null!==c&&jd(e,c,2),om(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,em(e[3],-1))}finally{Ld()}}function JH(t,e,n,r){const i=e[10],s=!Od(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&_c(t,e,r),ua(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function vS(t,e,n,r,i){const s=rn(),o=2&r;try{Yi(-1),o&&e.length>20&&uS(t,e,20,Od()),n(r,i)}finally{Yi(s)}}function Zm(t,e,n){!P0()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||tc(n,e),Ht(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=vr(u);c&&dG(e,n,u);const l=nc(e,t,a,n);Ht(l,e),null!==o&&hG(0,a-i,l,u,0,o),c&&(Vn(n.index,e)[8]=l)}}(t,e,n,tr(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=G.lFrame.currentDirectiveIndex;try{Yi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];rm(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&SS(c,l)}}finally{Yi(-1),rm(a)}}(t,e,n))}function Xm(t,e,n=tr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function wS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=dh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function dh(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function DS(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ey(t,e,n,r){let i=!1;if(P0()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];oS(n,o.selectors,!1)&&(i||(i=[]),qd(tc(n,e),t,o.type),vr(o)?(xS(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,RS(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=aa(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=$d(n.mergedAttrs,d.hostAttrs),NS(t,n,e,c,d),lG(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||sS(e)?null:fG(d,s);o.push(h),a=DS(d,c,a),u=DS(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Rs("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=$d(n.mergedAttrs,n.attrs),i}function AS(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function SS(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function xS(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function lG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function RS(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function NS(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ps(i.type)),o=new Xu(s,vr(i),null);t.blueprint[r]=o,n[r]=o,AS(t,e,0,r,aa(t,n,i.hostVars,W),i)}function dG(t,e,n){const r=tr(e,t),i=wS(n),s=t[10],o=hh(t,yc(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function hG(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function fG(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function MS(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function mG(t,e){const n=Vn(e,t);if(Xg(n)){const r=n[1];80&n[2]?ua(r,n,r.template,n[8]):n[5]>0&&ny(n)}}function ny(t){for(let r=Mm(t);null!==r;r=km(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];ua(o,s,o.template,s[8])}else s[5]>0&&ny(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Vn(n[r],t);Xg(i)&&i[5]>0&&ny(i)}}function yG(t,e){const n=Vn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),_c(r,n,n[8])}function hh(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ry(t){for(;t;){t[2]|=64;const e=gc(t);if(aB(t)&&!e)return t;t=e}return null}function sy(t,e,n){const r=e[10];r.begin&&r.begin();try{ua(t,e,t.template,n)}catch(i){throw LS(e,i),i}finally{r.end&&r.end()}}function kS(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Sm(n),i=r[1];JH(i,r,i.template,n)}}(t[8])}function oy(t,e,n){sm(0),e(t,n)}const bG=(()=>Promise.resolve(null))();function OS(t){return t[7]||(t[7]=[])}function PS(t){return t.cleanup||(t.cleanup=[])}function LS(t,e){const n=t[9],r=n?n.get(js,null):null;r&&r.handleError(e)}function VS(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ei(t,e,n){const r=kd(e,t);!function(t,e,n){Ge(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function fh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ug(i,a):2==s&&(r=Ug(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ca=new te("INJECTOR",-1);class US{get(e,n=ac){if(n===ac){const r=new Error(`NullInjectorError: No provider for ${re(e)}!`);throw r.name="NullInjectorError",r}return n}}const vc=new te("Set Injector scope."),Ec={},DG={};let ay;function jS(){return void 0===ay&&(ay=new US),ay}function BS(t,e=null,n=null,r){return new AG(t,n,e||jS(),r)}class AG{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&$r(n,a=>this.processProvider(a,e,n)),$r([e],a=>this.processInjectorType(a,[],s)),this.records.set(ca,la(void 0,this));const o=this.records.get(vc);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:re(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=ac,r=V.Default){this.assertNotDestroyed();const i=ea(this),s=Wi(void 0);try{if(!(r&V.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&gi(e);a=u&&this.injectableDefInScope(u)?la(uy(e),Ec):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&V.Self?jS():this.parent).get(e,n=r&V.Optional&&n===ac?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Xo]=o[Xo]||[]).unshift(re(e)),i)throw o;return uA(o,e,"R3InjectorError",this.source)}throw o}finally{Wi(s),ea(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(re(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=F(e)))return!1;let i=y0(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=y0(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{$r(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];$r(f,p=>this.processProvider(p,h,f||De))}}this.injectorDefTypes.add(o);const u=Ps(o)||(()=>new o);this.records.set(o,la(u,Ec));const c=i.providers;if(null!=c&&!a){const l=e;$r(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=da(e=F(e))?e:F(e&&e.provide);const s=function(t,e,n){return HS(t)?la(void 0,t.useValue):la($S(t),Ec)}(e);if(da(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=la(void 0,Ec,!0),o.factory=()=>Vs(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Ec&&(n.value=DG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=F(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function uy(t){const e=gi(t),n=null!==e?e.factory:Ps(t);if(null!==n)return n;if(t instanceof te)throw new Error(`Token ${re(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${re(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Td]||t[_0]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function $S(t,e,n){let r;if(da(t)){const i=F(t);return Ps(i)||uy(i)}if(HS(t))r=()=>F(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Vs(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>R(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ps(i)||uy(i);r=()=>new i(...Vs(t.deps))}return r}function la(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function HS(t){return null!==t&&"object"==typeof t&&_m in t}function da(t){return"function"==typeof t}const GS=function(t,e,n){return function(t,e=null,n=null,r){const i=BS(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ye=(()=>{class t{static create(n,r){return Array.isArray(n)?GS(n,r,""):GS(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=ac,t.NULL=new US,t.\u0275prov=Z({token:t,providedIn:"any",factory:()=>R(ca)}),t.__NG_ELEMENT_ID__=-1,t})();function KG(t,e){Vd(Sm(t)[1],ut())}function ke(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=py(t.inputs),o.declaredInputs=py(t.declaredInputs),o.outputs=py(t.outputs);const a=i.hostBindings;a&&ZG(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&YG(t,u),c&&JG(t,c),Vg(t.inputs,i.inputs),Vg(t.declaredInputs,i.declaredInputs),Vg(t.outputs,i.outputs),vr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ke&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$d(i.hostAttrs,n=$d(n,i.hostAttrs))}}(r)}function py(t){return t===Uo?{}:t===De?[]:t}function YG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function JG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function ZG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let ph=null;function ha(){if(!ph){const t=Ee.Symbol;if(t&&t.iterator)ph=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ph=r)}}}return ph}function bc(t){return!!gy(t)&&(Array.isArray(t)||!(t instanceof Map)&&ha()in t)}function gy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Gt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function I(t,e=V.Default){const n=b();return null===n?R(t,e):X0(ut(),n,F(t),e)}function yh(t,e,n){const r=b();return Gt(r,qo(),e)&&function(t,e,n,r,i,s,o,a){const u=tr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(VS(t,n,l,r,i),Nd(e)&&function(t,e){const n=Vn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ge(s)?s.setProperty(u,r,i):um(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(he(),function(){const t=G.lFrame;return Zg(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),yh}function Ey(t,e,n,r,i){const o=i?"class":"style";VS(t,n,e.inputs[o],o,r)}function vn(t,e,n,r){const i=b(),s=he(),o=20+t,a=i[11],u=i[o]=Pm(a,e,G.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=oa(e,t,2,i,Qi(a,s));return ey(e,n,c,Qi(a,o)),null!==c.attrs&&fh(c,c.attrs,!1),null!==c.mergedAttrs&&fh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];jr(c,!0);const l=c.mergedAttrs;null!==l&&Bd(a,u,l);const d=c.classes;null!==d&&Bm(a,u,d);const h=c.styles;null!==h&&nS(a,u,h),64!=(64&c.flags)&&sh(s,i,u,c),0===G.lFrame.elementDepthCount&&Ht(u,i),G.lFrame.elementDepthCount++,Md(c)&&(Zm(s,i,c),function(t,e,n){if(zg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&Xm(i,c)}function En(){let t=ut();tm()?G.lFrame.isParent=!1:(t=t.parent,jr(t,!1));const e=t;G.lFrame.elementDepthCount--;const n=he();n.firstCreatePass&&(Vd(n,t),zg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ey(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ey(n,e,b(),e.stylesWithoutHost,!1)}function wy(t,e,n,r){vn(t,e,n,r),En()}function Cc(t){return!!t&&"function"==typeof t.then}const _h=function(t){return!!t&&"function"==typeof t.subscribe};function wn(t,e,n,r){const i=b(),s=he(),o=ut();return function(t,e,n,r,i,s,o,a){const u=Md(r),l=t.firstCreatePass&&PS(t),d=e[8],h=OS(e);let f=!0;if(3&r.type||a){const g=tr(r,e),v=a?a(g):g,y=h.length,T=a?k=>a(Xe(k[r.index])):r.index;if(Ge(n)){let k=null;if(!a&&u&&(k=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1;else{s=by(r,e,d,s,!1);const H=n.listen(v,i,s);h.push(s,H),l&&l.push(i,T,y,y+1)}}else s=by(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),l&&l.push(i,T,y,o)}else s=by(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let v=0;v<g;v+=2){const Ne=e[m[v]][m[v+1]].subscribe(s),mn=h.length;h.push(s,Ne),l&&l.push(i,r.index,mn,-(mn+1))}}}(s,i,i[11],o,t,e,!!n,r),wn}function Ox(t,e,n,r){try{return!1!==n(r)}catch(i){return LS(t,i),!1}}function by(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Vn(t.index,e):e;0==(32&e[2])&&ry(a);let u=Ox(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=Ox(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Gx(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?wr(s):_i(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Bq(t[a],e)&&(u=!0,t[a+1]=r?Gm(l):$m(l)),a=r?wr(l):_i(l)}u&&(t[n+1]=r?$m(s):Gm(s))}function Bq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Zo(t,e)>=0}function vh(t,e){return function(t,e,n,r){const i=b(),s=he(),o=function(t){const e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[rn()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Dc(n=Cy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Cy(i,t,e,n,r),null===s){let u=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==_i(r))return t[wr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Cy(null,t,e,u[1],r),u=Dc(u,e.attrs,r),function(t,e,n,r){t[wr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Dc(r,t[s].hostAttrs,n);return Dc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wr(o),u=_i(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||Zo(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=wr(t[a+1]);t[r+1]=uh(h,a),0!==h&&(t[h+1]=Hm(t[h+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=uh(a,0),0!==a&&(t[a+1]=Hm(t[a+1],r)),a=r;else t[r+1]=uh(u,0),0===a?a=r:t[u+1]=Hm(t[u+1],r),u=r;c&&(t[r+1]=$m(t[r+1])),Gx(t,l,r,!0),Gx(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Zo(s,e)>=0&&(n[r+1]=Gm(n[r+1]))}(e,l,t,r,s),o=uh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==W&&Gt(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Eh(function(t){return 1==(1&t)}(c)?nR(u,e,n,i,_i(c),o):void 0)||(Eh(s)||function(t){return 2==(2&t)}(c)&&(s=nR(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Ge(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Bn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Bn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,kd(rn(),n),i,s))}(s,s.data[rn()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=re(function(t){return t instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),vh}function Cy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Dc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Dc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,o,!!n||e[++s]))}return void 0===t?null:t}function nR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===W&&(h=d?De:void 0);let f=d?pm(h,r):l===r?h:void 0;if(c&&!Eh(f)&&(f=pm(u,r)),Eh(f)&&(a=f,o))return a;const p=t[i+1];i=o?wr(p):_i(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=pm(u,r))}return a}function Eh(t){return void 0!==t}function Ca(t,e=""){const n=b(),r=he(),i=t+20,s=r.firstCreatePass?oa(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ge(t)?t.createText(e):t.createTextNode(e)}(n[11],e);sh(r,n,o,s),jr(s,!1)}function Dy(t){return Ty("",t,""),Dy}function Ty(t,e,n){const r=b(),i=function(t,e,n,r){return Gt(t,qo(),n)?e+Q(n)+r:W}(r,t,e,n);return i!==W&&Ei(r,rn(),i),Ty}const Hs=void 0;var b3=["en",[["a","p"],["AM","PM"],Hs],[["AM","PM"],Hs,Hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hs,"{1} 'at' {0}",Hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Da={};function IR(t){return t in Da||(Da[t]=Ee.ng&&Ee.ng.common&&Ee.ng.common.locales&&Ee.ng.common.locales[t]),Da[t]}var N=(()=>((N=N||{})[N.LocaleId=0]="LocaleId",N[N.DayPeriodsFormat=1]="DayPeriodsFormat",N[N.DayPeriodsStandalone=2]="DayPeriodsStandalone",N[N.DaysFormat=3]="DaysFormat",N[N.DaysStandalone=4]="DaysStandalone",N[N.MonthsFormat=5]="MonthsFormat",N[N.MonthsStandalone=6]="MonthsStandalone",N[N.Eras=7]="Eras",N[N.FirstDayOfWeek=8]="FirstDayOfWeek",N[N.WeekendRange=9]="WeekendRange",N[N.DateFormat=10]="DateFormat",N[N.TimeFormat=11]="TimeFormat",N[N.DateTimeFormat=12]="DateTimeFormat",N[N.NumberSymbols=13]="NumberSymbols",N[N.NumberFormats=14]="NumberFormats",N[N.CurrencyCode=15]="CurrencyCode",N[N.CurrencySymbol=16]="CurrencySymbol",N[N.CurrencyName=17]="CurrencyName",N[N.Currencies=18]="Currencies",N[N.Directionality=19]="Directionality",N[N.PluralCase=20]="PluralCase",N[N.ExtraData=21]="ExtraData",N))();const wh="en-US";let CR=wh;function Sy(t){Pn(t,"Expected localeId to be defined"),"string"==typeof t&&(CR=t.toLowerCase().replace(/_/g,"-"))}function Ny(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ny(t[s],e,n,r,i);else{const s=he(),o=b();let a=da(t)?t:F(t.provide),u=$S(t);const c=ut(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(da(t)||!t.multi){const f=new Xu(u,i,I),p=ky(a,e,i?l:l+h,d);-1===p?(qd(tc(c,o),s,a),My(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=ky(a,e,l+h,d),p=ky(a,e,l,l+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){qd(tc(c,o),s,a);const v=function(t,e,n,r,i){const s=new Xu(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,KR(s,i,r&&!n),s}(i?vW:_W,n.length,i,r,u);!i&&g&&(n[p].providerFactory=v),My(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else My(s,t,f>-1?f:p,KR(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function My(t,e,n,r){const i=da(e);if(i||function(t){return!!t.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=a.indexOf(n);-1===u?a.push(n,[r,o]):a[u+1].push(r,o)}else a.push(n,o)}}}function KR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ky(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _W(t,e,n,r){return Oy(this.multi,[])}function vW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=nc(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Oy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Oy(i,s);return s}function Oy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=he();if(r.firstCreatePass){const i=vr(t);Ny(n,r.data,r.blueprint,i,!0),Ny(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class QR{}const JR="ngComponent";class bW{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${re(t)}. Did you add it to @NgModule.entryComponents?`);return e[JR]=t,e}(e)}}let Gs=(()=>{class t{}return t.NULL=new bW,t})();function Th(...t){}function Aa(t,e){return new yt(tr(t,e))}const DW=function(){return Aa(ut(),b())};let yt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=DW,t})();class Ah{}let bi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>AW(),t})();const AW=function(){const t=b(),n=Vn(ut().index,t);return function(t){return t[11]}(Ur(n)?n:t)};let Fy=(()=>{class t{}return t.\u0275prov=Z({token:t,providedIn:"root",factory:()=>null}),t})();class Sa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ly=new Sa("12.2.12");class XR{constructor(){}supports(e){return bc(e)}create(e){return new NW(e)}}const RW=(t,e)=>e;class NW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<tN(r,i,s)?n:r,a=tN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!bc(e))throw new Error(`Error trying to diff '${re(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ha()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new MW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new eN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class MW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class eN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new kW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class nN{constructor(){}supports(e){return e instanceof Map||gy(e)}create(){return new OW}}class OW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||gy(e)))throw new Error(`Error trying to diff '${re(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new PW(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class PW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rN(){return new Rc([new XR])}let Rc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||rN()),deps:[[t,new Xi,new Fe]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=Z({token:t,providedIn:"root",factory:rN}),t})();function iN(){return new xa([new nN])}let xa=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||iN()),deps:[[t,new Xi,new Fe]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=Z({token:t,providedIn:"root",factory:iN}),t})();function Sh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Xe(s)),_r(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Sh(u[1],u,c,r)}const o=n.type;if(8&o)Sh(t,e,n.child,r);else if(32&o){const a=Nm(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=XA(e,n);if(Array.isArray(a))r.push(...a);else{const u=gc(e[16]);Sh(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Nc{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Sh(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(_r(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Fm(e,r),Ls(n,r))}this._attachedToViewContainer=!1}GA(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=OS(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&PS(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ry(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Pd(!0);try{sy(t,e,n)}finally{Pd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){mc(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class LW extends Nc{constructor(e){super(e),this._view=e}detectChanges(){kS(this._view)}checkNoChanges(){!function(t){Pd(!0);try{kS(t)}finally{Pd(!1)}}(this._view)}get context(){return null}}const UW=function(t){return function(t,e,n){if(Nd(t)&&!n){const r=Vn(t.index,e);return new Nc(r,r)}return 47&t.type?new Nc(e[16],e):null}(ut(),b(),16==(16&t))};let Vy=(()=>{class t{}return t.__NG_ELEMENT_ID__=UW,t})();const $W=[new nN],GW=new Rc([new XR]),qW=new xa($W),zW=function(){return function(t,e){return 4&t.type?new QW(e,t,Aa(t,e)):null}(ut(),b())};let Ii=(()=>{class t{}return t.__NG_ELEMENT_ID__=zW,t})();const KW=Ii,QW=class extends KW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=yc(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),_c(n,r,e),new Nc(r)}};class Jr{}class sN{}const ZW=function(){return function(t,e){let n;const r=e[t.index];if(_r(r))n=r;else{let i;if(8&t.type)i=Xe(r);else{const s=e[11];i=s.createComment("");const o=tr(t,e);Bs(s,ih(s,o),i,function(t,e){return Ge(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=MS(r,e,i,t),hh(e,n)}return new oN(n,t,e)}(ut(),b())};let Tr=(()=>{class t{}return t.__NG_ELEMENT_ID__=ZW,t})();const ez=Tr,oN=class extends ez{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gd(this._hostTNode,this._hostLView);if(K0(e)){const n=zo(e,this._hostLView),r=Wo(e);return new Ko(n[1].data[r+8],n)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=aN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const u=o.get(Jr,null);u&&(s=u)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return _r(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new oN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Qd(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Um(s,o),u=r[11],c=ih(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,mc(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),Qd(Uy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=aN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Fm(this._lContainer,n);r&&(Ls(Uy(this._lContainer),n),GA(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Fm(this._lContainer,n);return r&&null!=Ls(Uy(this._lContainer),n)?new Nc(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function aN(t){return t[8]}function Uy(t){return t[8]||(t[8]=[])}const ka={};class SN extends Gs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=tn(e);return new RN(n,this.ngModule)}}function xN(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Yz=new te("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>FA});class RN extends QR{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(VH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return xN(this.componentDef.inputs)}get outputs(){return xN(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ka,i);return s!==ka||r===ka?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Ah,M0),a=s.get(Fy,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(Ge(t))return t.selectRootElement(e,n===at.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Pm(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||FA,clean:bG,playerHandler:e||null,flags:0}}(),f=dh(0,null,null,1,0,null,null,null,null,null),p=yc(null,f,h,d,null,null,o,u,a,s);let m,g;Fd(p);try{const v=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=oa(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(fh(u,c,!0),null!==t&&(Bd(i,t,c),null!==u.classes&&Bm(i,t,u.classes),null!==u.styles&&nS(i,t,u.styles)));const l=r.createRenderer(t,e),d=yc(n,wS(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(qd(tc(u,n),o,e.type),xS(o,u),RS(u,n.length,1)),hh(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Bd(u,l,["ng-version",Ly.full]);else{const{attrs:y,classes:T}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Er(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Bd(u,l,y),T&&T.length>0&&Bm(u,l,T.join(" "))}if(g=Zg(f,20),void 0!==n){const y=g.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const k=n[T];y.push(null!=k?Array.from(k):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ut();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),NS(t,r,e,aa(t,e,1,null),n));const i=nc(e,t,r.directiveStart,r);Ht(i,e);const s=tr(r,e);return s&&Ht(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ut();e.contentQueries(1,o,u.directiveStart)}const a=ut();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Yi(a.index),AS(n[1],a,0,a.directiveStart,a.directiveEnd,e),SS(e,o)),o}(v,this.componentDef,p,h,[KG]),_c(f,p,null)}finally{Ld()}return new Xz(this.componentType,m,Aa(g,p),p,g)}}class Xz extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new LW(i),this.componentType=e}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Oa=new Map;class n8 extends Jr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SN(this);const r=Zn(e),i=function(t){return t[Xj]||null}(e);i&&Sy(i),this._bootstrapComponents=qr(r.bootstrap),this._r3Injector=BS(e,n,[{provide:Jr,useValue:this},{provide:Gs,useValue:this.componentFactoryResolver}],re(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=ye.THROW_IF_NOT_FOUND,r=V.Default){return e===ye||e===Jr||e===ca?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Zy extends sN{constructor(e){super(),this.moduleType=e,null!==Zn(e)&&function(t){const e=new Set;!function n(r){const i=Zn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${re(e)} vs ${re(e.name)}`)}(s,Oa.get(s),r),Oa.set(s,r));const o=qr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new n8(this.moduleType,e)}}function Xy(t){return e=>{setTimeout(t,void 0,e)}}const dt=class extends fi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Xy(u),a&&(a=Xy(a)),c&&(c=Xy(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof be&&e.add(l),l}};Symbol;const Hc=new te("Application Initializer");let Fa=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Th,this.reject=Th,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Cc(s))n.push(s);else if(_h(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(R(Hc,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const Gc=new te("AppId"),i4={provide:Gc,useFactory:function(){return`${f_()}${f_()}${f_()}`},deps:[]};function f_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oM=new te("Platform Initializer"),qc=new te("Platform ID"),aM=new te("appBootstrapListener");let Lh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const rs=new te("LocaleId"),uM=new te("DefaultCurrencyCode");class o4{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const p_=function(t){return new Zy(t)},a4=p_,u4=function(t){return Promise.resolve(p_(t))},cM=function(t){const e=p_(t),r=qr(Zn(t).declarations).reduce((i,s)=>{const o=tn(s);return o&&i.push(new RN(o)),i},[]);return new o4(e,r)},c4=cM,l4=function(t){return Promise.resolve(cM(t))};let zs=(()=>{class t{constructor(){this.compileModuleSync=a4,this.compileModuleAsync=u4,this.compileModuleAndAllComponentsSync=c4,this.compileModuleAndAllComponentsAsync=l4}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const f4=(()=>Promise.resolve(0))();function g_(t){"undefined"==typeof Zone?f4.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dt(!1),this.onMicrotaskEmpty=new dt(!1),this.onStable=new dt(!1),this.onError=new dt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ee.requestAnimationFrame,e=Ee.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ee,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,y_(t),t.isCheckStableRunning=!0,m_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),y_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return lM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),dM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return lM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),dM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,y_(t),m_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,g4,Th,Th);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const g4={};function m_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function y_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function lM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dM(t){t._nesting--,m_(t)}class _4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dt,this.onMicrotaskEmpty=new dt,this.onStable=new dt,this.onError=new dt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let __=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),g_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())g_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(R(Be))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),hM=(()=>{class t{constructor(){this._applications=new Map,v_.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return v_.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class v4{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let v_=new v4,fM=!0,pM=!1;let xr;const mM=new te("AllowMultipleToken");class E_{constructor(e,n){this.name=e,this.token=n}}function yM(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(s=[])=>{let o=_M();if(!o||o.injector.get(mM,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:vc,useValue:"platform"});!function(t){if(xr&&!xr.destroyed&&!xr.injector.get(mM,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xr=t.get(vM);const e=t.get(oM,null);e&&e.forEach(n=>n())}(ye.create({providers:a,name:r}))}return function(t){const e=_M();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function _M(){return xr&&!xr.destroyed?xr:null}let vM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new _4:("zone.js"===t?void 0:t)||new Be({enableLongStackTrace:(pM=!0,fM),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Be,useValue:a}];return a.run(()=>{const c=ye.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(js,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{w_(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return Cc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Fa);return h.runInitializers(),h.donePromise.then(()=>(Sy(l.injector.get(rs,wh)||wh),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=EM({},r);return function(t,e,n){const r=new Zy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(La);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${re(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(R(ye))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function EM(t,e){return Array.isArray(e)?e.reduce(EM,t):Object.assign(Object.assign({},t),e)}let La=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new J(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new J(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),g_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Id(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof J?t[0]:Wu(e)(Fg(t,n))}(a,u.pipe(t=>Lg()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const s=Object.create(r,Oj);return s.source=r,s.subjectFactory=i,s}}(Uj)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof QR?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Jr),a=i.create(ye.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(__,null),l=c&&a.injector.get(hM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),w_(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;w_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(aM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(R(Be),R(ye),R(js),R(Gs),R(Fa))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function w_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uh{}class O4{}const P4={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let F4=(()=>{class t{constructor(n,r){this._compiler=n,this._config=r||P4}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,i]=n.split("#");return void 0===i&&(i="default"),gr(255)(r).then(s=>s[i]).then(s=>CM(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(n){let[r,i]=n.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),gr(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>CM(o,r,i))}}return t.\u0275fac=function(n){return new(n||t)(R(zs),R(O4,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function CM(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const W4=yM(null,"core",[{provide:qc,useValue:"unknown"},{provide:vM,deps:[ye]},{provide:hM,deps:[]},{provide:Lh,deps:[]}]),J4=[{provide:La,useClass:La,deps:[Be,ye,js,Gs,Fa]},{provide:Yz,deps:[Be],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Fa,useClass:Fa,deps:[[new Fe,Hc]]},{provide:zs,useClass:zs,deps:[]},i4,{provide:Rc,useFactory:function(){return GW},deps:[]},{provide:xa,useFactory:function(){return qW},deps:[]},{provide:rs,useFactory:function(t){return Sy(t=t||"undefined"!=typeof $localize&&$localize.locale||wh),t},deps:[[new ta(rs),new Fe,new Xi]]},{provide:uM,useValue:"USD"}];let X4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(R(La))},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({providers:J4}),t})(),Qh=null;function Zr(){return Qh}const xt=new te("DocumentToken");let Ys=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({factory:Z6,token:t,providedIn:"platform"}),t})();function Z6(){return R(KM)}const X6=new te("Location Initialized");let KM=(()=>{class t extends Ys{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zr().getBaseHref(this._doc)}onPopState(n){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){QM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){QM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(R(xt))},t.\u0275prov=Z({factory:e7,token:t,providedIn:"platform"}),t})();function QM(){return!!window.history.pushState}function e7(){return new KM(R(xt))}function F_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function YM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Di(t){return t&&"?"!==t[0]?"?"+t:t}let ja=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({factory:t7,token:t,providedIn:"root"}),t})();function t7(t){const e=R(xt).location;return new JM(R(Ys),e&&e.origin||"")}const L_=new te("appBaseHref");let JM=(()=>{class t extends ja{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return F_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Di(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Di(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Di(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(R(Ys),R(L_,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),n7=(()=>{class t extends ja{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=F_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Di(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(R(Ys),R(L_,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),Yh=(()=>{class t{constructor(n,r){this._subject=new dt,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=YM(ZM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Di(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ZM(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Di(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.\u0275fac=function(n){return new(n||t)(R(ja),R(Ys))},t.normalizeQueryParams=Di,t.joinWithSlash=F_,t.stripTrailingSlash=YM,t.\u0275prov=Z({factory:r7,token:t,providedIn:"root"}),t})();function r7(){return new Yh(R(ja),R(Ys))}function ZM(t){return t.replace(/\/index.html$/,"")}var et=(()=>((et=et||{})[et.Zero=0]="Zero",et[et.One=1]="One",et[et.Two=2]="Two",et[et.Few=3]="Few",et[et.Many=4]="Many",et[et.Other=5]="Other",et))();const d7=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=IR(e);if(n)return n;const r=e.split("-")[0];if(n=IR(r),n)return n;if("en"===r)return b3;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[N.PluralCase]};class af{}let j7=(()=>{class t extends af{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(d7(r||this.locale)(n)){case et.Zero:return"zero";case et.One:return"one";case et.Two:return"two";case et.Few:return"few";case et.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(R(rs))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class G7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ak=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new G7(null,this._ngForOf,-1,-1),null===o?void 0:o),u=new uk(i,a);r.push(u)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const u=new uk(i,a);r.push(u)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(Tr),I(Ii),I(Rc))},t.\u0275dir=j({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class uk{constructor(e,n){this.record=e,this.view=n}}let vK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({providers:[{provide:af,useClass:j7}]}),t})();let fk=(()=>{class t{}return t.\u0275prov=Z({token:t,providedIn:"root",factory:()=>new IK(R(xt),window)}),t})();class IK{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=pk(this.window.history)||pk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function pk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Y_ extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){Qh||(Qh=t)}(new Y_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Zc=Zc||document.querySelector("base"),Zc?Zc.getAttribute("href"):null);return null==n?null:function(t){uf=uf||document.createElement("a"),uf.setAttribute("href",t);const e=uf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Zc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let uf,Zc=null;const gk=new te("TRANSITION_ID"),RK=[{provide:Hc,useFactory:function(t,e,n){return()=>{n.get(Fa).donePromise.then(()=>{const r=Zr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[gk,xt,ye],multi:!0}];class J_{static init(){!function(t){v_=t}(new J_)}addToWindow(e){Ee.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(r=>{const i=Ee.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Zr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let NK=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const Xc=new te("EventManagerPlugins");let lf=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(R(Xc),R(Be))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class Z_{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Zr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let yk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),el=(()=>{class t extends yk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(_k),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(_k))}}return t.\u0275fac=function(n){return new(n||t)(R(xt))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function _k(t){Zr().remove(t)}const X_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ev=/%COMP%/g;function df(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?df(t,i,n):(i=i.replace(ev,t),n.push(i))}return n}function wk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let tv=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new nv(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case at.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new WK(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case at.ShadowDom:return new zK(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=df(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(R(lf),R(el),R(Gc))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();class nv{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(X_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=X_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=X_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,i&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,wk(r)):this.eventManager.addEventListener(e,n,wk(r))}}class WK extends nv{constructor(e,n,r,i){super(e),this.component=r;const s=df(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(ev,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ev,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class zK extends nv{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=df(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let KK=(()=>{class t extends Z_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(R(xt))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const Ck=["alt","control","meta","shift"],t5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},n5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let r5=(()=>{class t extends Z_{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Ck.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Dk.hasOwnProperty(e)&&(e=Dk[e]))}return t5[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ck.forEach(s=>{s!=i&&n5[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return t.\u0275fac=function(n){return new(n||t)(R(xt))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const d5=yM(W4,"browser",[{provide:qc,useValue:"browser"},{provide:oM,useValue:function(){Y_.makeCurrent(),J_.init()},multi:!0},{provide:xt,useFactory:function(){return function(t){Yg=t}(document),document},deps:[]}]),h5=[[],{provide:vc,useValue:"root"},{provide:js,useFactory:function(){return new js},deps:[]},{provide:Xc,useClass:KK,multi:!0,deps:[xt,Be,qc]},{provide:Xc,useClass:r5,multi:!0,deps:[xt]},[],{provide:tv,useClass:tv,deps:[lf,el,Gc]},{provide:Ah,useExisting:tv},{provide:yk,useExisting:el},{provide:el,useClass:el,deps:[xt]},{provide:__,useClass:__,deps:[Be]},{provide:lf,useClass:lf,deps:[Xc,Be]},{provide:class{},useClass:NK,deps:[]},[]];let f5=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Gc,useValue:n.appId},{provide:gk,useExisting:Gc},RK]}}}return t.\u0275fac=function(n){return new(n||t)(R(t,12))},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({providers:h5,imports:[vK,X4]}),t})();function Sk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function tl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nl(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Rk(t,e,n){if(n||2===arguments.length)for(var s,r=0,i=e.length;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}"undefined"!=typeof window&&window;const cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Hn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ok(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function ff(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Pk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ba(){return"object"==typeof indexedDB}function pf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function hv(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xr.prototype.create)}}class Xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(P5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new os(i,`${this.serviceName}: ${o} (${i}).`,r)}}const P5=/\{\$([^}]+)}/g;function fv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Lk(s)&&Lk(o)){if(!fv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lk(t){return null!==t&&"object"==typeof t}function Vk(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class L5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=pv),void 0===i.error&&(i.error=pv),void 0===i.complete&&(i.complete=pv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pv(){}function mv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function as(t){return t&&t._delegate?t._delegate:t}var cn=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}(),Js="[DEFAULT]",G5=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new dv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(s){}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch(d){}try{for(var i=tl(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=nl(s.value,2),u=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(d){}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){void 0===e&&(e=Js),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var e;return function(t,e){var r,i,s,o,n={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=2&c[0]?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(s=(s=n.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(6===c[0]&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Rk(Rk([],nl(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),nl(e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(e){return void 0===e&&(e=Js),this.instances.has(e)},t.prototype.getOptions=function(e){return void 0===e&&(e=Js),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,r;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=tl(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=nl(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},t.prototype.onInit=function(e,n){var r,i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);var o=this.instances.get(i);return o&&e(o,i),function(){s.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var o=tl(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,n)}catch(c){}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q5(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(o){}return s||null},t.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Js),this.component?this.component.multipleInstances?e:Js:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function q5(t){return t===Js?void 0:t}var z5=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new G5(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();const yv=[];var fe=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(fe||(fe={})),fe))();const Uk={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},K5=fe.INFO,Q5={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Y5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Q5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class $a{constructor(e){this.name=e,this._logLevel=K5,this._logHandler=Y5,this._userLogHandler=null,yv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}class J5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const _v="@firebase/app",vv=new $a("@firebase/app"),Ev="[DEFAULT]",CQ={[_v]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zs=new Map,mf=new Map;function DQ(t,e){try{t.container.addComponent(e)}catch(n){vv.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){const e=t.name;if(mf.has(e))return vv.debug(`There were multiple attempts to register component ${e}.`),!1;mf.set(e,t);for(const n of Zs.values())DQ(n,t);return!0}function yf(t,e){return t.container.getProvider(e)}const rl=new Xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class AQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}function SQ(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Ev,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw rl.create("bad-app-name",{appName:String(r)});const i=Zs.get(r);if(i){if(fv(t,i.options)&&fv(n,i.config))return i;throw rl.create("duplicate-app",{appName:r})}const s=new z5(r);for(const a of mf.values())s.addComponent(a);const o=new AQ(t,n,s);return Zs.set(r,o),o}function Bk(t=Ev){const e=Zs.get(t);if(!e)throw rl.create("no-app",{appName:t});return e}function $k(){return Array.from(Zs.values())}function Je(t,e,n){var r;let i=null!==(r=CQ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void vv.warn(a.join(" "))}In(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Hk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Hk(s,r,i,o,a,"next",u)}function a(u){Hk(s,r,i,o,a,"throw",u)}o(void 0)})}}In(new cn("platform-logger",e=>new J5(e),"PRIVATE")),Je(_v,"0.7.5",""),Je(_v,"0.7.5","esm2017"),Je("fire-js",""),Je("firebase","9.2.0","app");var Ha=gr(676);const Gk="@firebase/installations",Wk="w:0.5.2",zk="FIS_v2",Ai=new Xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Kk(t){return t instanceof os&&t.code.includes("request-failed")}function Iv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Qk(t){return{token:t.token,requestStatus:2,expiresIn:LQ(t.expiresIn),creationTime:Date.now()}}function Cv(t,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=_(function*(t,e){const r=(yield e.json()).error;return Ai.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Yk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jk(t,{refreshToken:e}){const n=Yk(t);return n.append("Authorization",function(t){return`${zk} ${t}`}(e)),n}function Tv(t){return Av.apply(this,arguments)}function Av(){return(Av=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function LQ(t){return Number(t.replace("s","000"))}function UQ(t,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=_(function*(t,{fid:e}){const n=Iv(t),s={method:"POST",headers:Yk(t),body:JSON.stringify({fid:e,authVersion:zk,appId:t.appId,sdkVersion:Wk})},o=yield Tv(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:Qk(a.authToken)}}throw yield Cv("Create Installation",o)})).apply(this,arguments)}function Zk(t){return new Promise(e=>{setTimeout(e,t)})}const BQ=/^[cdef][\w-]{21}$/;function $Q(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return BQ.test(n)?n:""}catch(t){return""}}function Ga(t){return`${t.appName}!${t.appId}`}const qa=new Map;function Xk(t,e){const n=Ga(t);e1(n,e),function(t,e){const n=(!Xs&&"BroadcastChannel"in self&&(Xs=new BroadcastChannel("[Firebase] FID Change"),Xs.onmessage=t=>{e1(t.data.key,t.data.fid)}),Xs);n&&n.postMessage({key:t,fid:e}),0===qa.size&&Xs&&(Xs.close(),Xs=null)}(n,e)}function e1(t,e){const n=qa.get(t);if(n)for(const r of n)r(e)}let Xs=null;const eo="firebase-installations-store";let Rv=null;function Nv(){return Rv||(Rv=(0,Ha.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(eo)}})),Rv}function vf(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=_(function*(t,e){const n=Ga(t),i=(yield Nv()).transaction(eo,"readwrite"),s=i.objectStore(eo),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&Xk(t,e.fid),e})).apply(this,arguments)}function kv(t){return Ov.apply(this,arguments)}function Ov(){return(Ov=_(function*(t){const e=Ga(t),r=(yield Nv()).transaction(eo,"readwrite");yield r.objectStore(eo).delete(e),yield r.complete})).apply(this,arguments)}function il(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=_(function*(t,e){const n=Ga(t),i=(yield Nv()).transaction(eo,"readwrite"),s=i.objectStore(eo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&Xk(t,a.fid),a})).apply(this,arguments)}function Fv(t){return Lv.apply(this,arguments)}function Lv(){return(Lv=_(function*(t){let e;const n=yield il(t,r=>{const i=QQ(r),s=YQ(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function QQ(t){return i1(t||{fid:$Q(),registrationStatus:0})}function YQ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ai.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Vv.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ZQ(t)}:{installationEntry:e}}function Vv(){return(Vv=_(function*(t,e){try{return vf(t,yield UQ(t,e))}catch(n){throw Kk(n)&&409===n.customData.serverCode?yield kv(t):yield vf(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function ZQ(t){return Uv.apply(this,arguments)}function Uv(){return(Uv=_(function*(t){let e=yield r1(t);for(;1===e.registrationStatus;)yield Zk(100),e=yield r1(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Fv(t);return r||n}return e})).apply(this,arguments)}function r1(t){return il(t,e=>{if(!e)throw Ai.create("installation-not-found");return i1(e)})}function i1(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function e9(t,e){return jv.apply(this,arguments)}function jv(){return(jv=_(function*({appConfig:t,platformLoggerProvider:e},n){const r=t9(t,n),i=Jk(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Wk}})},u=yield Tv(()=>fetch(r,a));if(u.ok)return Qk(yield u.json());throw yield Cv("Generate Auth Token",u)})).apply(this,arguments)}function t9(t,{fid:e}){return`${Iv(t)}/${e}/authTokens:generate`}function Bv(t){return $v.apply(this,arguments)}function $v(){return($v=_(function*(t,e=!1){let n;const r=yield il(t.appConfig,s=>{if(!o1(s))throw Ai.create("not-registered");const o=s.authToken;if(!e&&i9(o))return s;if(1===o.requestStatus)return n=n9(t,e),s;{if(!navigator.onLine)throw Ai.create("app-offline");const a=o9(s);return n=r9(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function n9(t,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=_(function*(t,e){let n=yield s1(t.appConfig);for(;1===n.authToken.requestStatus;)yield Zk(100),n=yield s1(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Bv(t,e):r})).apply(this,arguments)}function s1(t){return il(t,e=>{if(!o1(e))throw Ai.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function r9(t,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=_(function*(t,e){try{const n=yield e9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield vf(t.appConfig,r),n}catch(n){if(!Kk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield vf(t.appConfig,r)}else yield kv(t.appConfig);throw n}})).apply(this,arguments)}function o1(t){return void 0!==t&&2===t.registrationStatus}function i9(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function o9(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function qv(){return(qv=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Fv(e.appConfig);return r?r.catch(console.error):Bv(e).catch(console.error),n.fid})).apply(this,arguments)}function Wv(){return(Wv=_(function*(t,e=!1){const n=t;return yield l9(n.appConfig),(yield Bv(n,e)).token})).apply(this,arguments)}function l9(t){return zv.apply(this,arguments)}function zv(){return(zv=_(function*(t){const{registrationPromise:e}=yield Fv(t);e&&(yield e)})).apply(this,arguments)}function Yv(t){return Ai.create("missing-app-config-values",{valueName:t})}const a1="installations";In(new cn(a1,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw Yv("App Configuration");if(!t.name)throw Yv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:yf(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),In(new cn("installations-internal",t=>{const n=yf(t.getProvider("app").getImmediate(),a1).getImmediate();return{getId:()=>function(t){return qv.apply(this,arguments)}(n),getToken:i=>function(t){return Wv.apply(this,arguments)}(n,i)}},"PRIVATE")),Je(Gk,"0.5.2"),Je(Gk,"0.5.2","esm2017");const Jv="@firebase/remote-config",Cn=new Xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class S9{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function x9(t=navigator){return t.languages&&t.languages[0]||t.language}class R9{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:x9()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let y="fetch-client-network";throw"AbortError"===v.name&&(y="fetch-timeout"),Cn.create(y,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw Cn.create("fetch-client-parse",{originalErrorMessage:y.message})}m=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw Cn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class k9{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof os&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+mv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class F9{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wf(t,e){const n=t.target.error||void 0;return Cn.create(e,{originalErrorMessage:n&&n.message})}const to="app_namespace_store";class j9{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(wf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(to,{keyPath:"compositeKey"})}}}catch(n){e(Cn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([to],"readonly").objectStore(to),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(wf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Cn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([to],"readwrite").objectStore(to),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(wf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Cn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([to],"readwrite").objectStore(to),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(wf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Cn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class B9{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function H9(){return nE.apply(this,arguments)}function nE(){return(nE=_(function*(){if(!Ba())return!1;try{return yield pf()}catch(t){return!1}})).apply(this,arguments)}In(new cn("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Cn.create("registration-window");if(!Ba())throw Cn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Cn.create("registration-project-id");if(!o)throw Cn.create("registration-api-key");if(!a)throw Cn.create("registration-app-id");const u=new j9(a,r.name,n=n||"firebase"),c=new B9(u),l=new $a(Jv);l.logLevel=fe.ERROR;const d=new R9(i,"9.2.0",n,s,o,a),h=new k9(d,u),f=new S9(h,u,c,l),p=new F9(r,f,c,u,l);return function(t){const e=as(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Je(Jv,"0.3.1"),Je(Jv,"0.3.1","esm2017");const G9="/firebase-messaging-sw.js",q9="/firebase-cloud-messaging-push-scope",d1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",h1="google.c.a.c_id",z9="google.c.a.c_l",K9="google.c.a.ts",Q9="google.c.a.e";var Wa=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(Wa||(Wa={})),Wa))();function Si(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y9(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const rE="fcm_token_details_db",f1="fcm_token_object_Store";function Z9(t){return iE.apply(this,arguments)}function iE(){return(iE=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(rE))return null;let e=null;return(yield(0,Ha.openDb)(rE,5,function(){var r=_(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(f1))return;const o=i.transaction.objectStore(f1),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:Si(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Si(u.auth),p256dh:Si(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Si(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Si(u.auth),p256dh:Si(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Si(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,Ha.deleteDb)(rE),yield(0,Ha.deleteDb)("fcm_vapid_details_db"),yield(0,Ha.deleteDb)("undefined"),X9(e)?e:null})).apply(this,arguments)}function X9(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const no="firebase-messaging-store";let sE=null;function oE(){return sE||(sE=(0,Ha.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(no)}})),sE}function p1(t){return aE.apply(this,arguments)}function aE(){return(aE=_(function*(t){const e=dE(t),r=yield(yield oE()).transaction(no).objectStore(no).get(e);if(r)return r;{const i=yield Z9(t.appConfig.senderId);if(i)return yield uE(t,i),i}})).apply(this,arguments)}function uE(t,e){return cE.apply(this,arguments)}function cE(){return(cE=_(function*(t,e){const n=dE(t),i=(yield oE()).transaction(no,"readwrite");return yield i.objectStore(no).put(e,n),yield i.complete,e})).apply(this,arguments)}function nY(t){return lE.apply(this,arguments)}function lE(){return(lE=_(function*(t){const e=dE(t),r=(yield oE()).transaction(no,"readwrite");yield r.objectStore(no).delete(e),yield r.complete})).apply(this,arguments)}function dE({appConfig:t}){return t.appId}const Rt=new Xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function iY(t,e){return hE.apply(this,arguments)}function hE(){return(hE=_(function*(t,e){const n=yield mE(t),r=m1(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(gE(t.appConfig),i)).json()}catch(o){throw Rt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Rt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Rt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function sY(t,e){return fE.apply(this,arguments)}function fE(){return(fE=_(function*(t,e){const n=yield mE(t),r=m1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${gE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Rt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Rt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Rt.create("token-update-no-token");return s.token})).apply(this,arguments)}function g1(t,e){return pE.apply(this,arguments)}function pE(){return(pE=_(function*(t,e){const r={method:"DELETE",headers:yield mE(t)};try{const s=yield(yield fetch(`${gE(t.appConfig)}/${e}`,r)).json();if(s.error)throw Rt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Rt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function gE({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function mE(t){return yE.apply(this,arguments)}function yE(){return(yE=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function m1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==d1&&(i.web.applicationPubKey=r),i}const oY=6048e5;function aY(t){return _E.apply(this,arguments)}function _E(){return(_E=_(function*(t){const e=yield cY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Si(e.getKey("auth")),p256dh:Si(e.getKey("p256dh"))},r=yield p1(t.firebaseDependencies);if(r){if(lY(r.subscriptionOptions,n))return Date.now()>=r.createTime+oY?uY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield g1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _1(t.firebaseDependencies,n)}return _1(t.firebaseDependencies,n)})).apply(this,arguments)}function y1(t){return vE.apply(this,arguments)}function vE(){return(vE=_(function*(t){const e=yield p1(t.firebaseDependencies);e&&(yield g1(t.firebaseDependencies,e.token),yield nY(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function uY(t,e){return EE.apply(this,arguments)}function EE(){return(EE=_(function*(t,e){try{const n=yield sY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield uE(t.firebaseDependencies,r),n}catch(n){throw yield y1(t),n}})).apply(this,arguments)}function _1(t,e){return wE.apply(this,arguments)}function wE(){return(wE=_(function*(t,e){const r={token:yield iY(t,e),createTime:Date.now(),subscriptionOptions:e};return yield uE(t,r),r.token})).apply(this,arguments)}function cY(t,e){return bE.apply(this,arguments)}function bE(){return(bE=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y9(e)})})).apply(this,arguments)}function lY(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function v1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function pY(t){return"object"==typeof t&&!!t&&h1 in t}function E1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function IE(t){return Rt.create("missing-app-config-values",{valueName:t})}E1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),E1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mY{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw IE("App Configuration Object");if(!t.name)throw IE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw IE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function w1(t){return CE.apply(this,arguments)}function CE(){return(CE=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(G9,{scope:q9}),t.swRegistration.update().catch(()=>{})}catch(e){throw Rt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function yY(t,e){return DE.apply(this,arguments)}function DE(){return(DE=_(function*(t,e){if(!e&&!t.swRegistration&&(yield w1(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Rt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function _Y(t,e){return TE.apply(this,arguments)}function TE(){return(TE=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=d1)})).apply(this,arguments)}function AE(){return(AE=_(function*(t,e){if(!navigator)throw Rt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rt.create("permission-blocked");return yield _Y(t,null==e?void 0:e.vapidKey),yield yY(t,null==e?void 0:e.serviceWorkerRegistration),aY(t)})).apply(this,arguments)}function vY(t,e,n){return SE.apply(this,arguments)}function SE(){return(SE=_(function*(t,e,n){const r=EY(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[h1],message_name:n[z9],message_time:n[K9],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function EY(t){switch(t){case Wa.NOTIFICATION_CLICKED:return"notification_open";case Wa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xE(){return(xE=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Wa.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(v1(n)):t.onMessageHandler.next(v1(n)));const r=n.data;pY(r)&&"1"===r[Q9]&&(yield vY(t,n.messageType,r))})).apply(this,arguments)}const I1="@firebase/messaging";function D1(){return RE.apply(this,arguments)}function RE(){return(RE=_(function*(){return"undefined"!=typeof window&&Ba()&&(yield pf())&&hv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}In(new cn("messaging",t=>{const e=new mY(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return xE.apply(this,arguments)}(e,n)),e},"PUBLIC")),In(new cn("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return AE.apply(this,arguments)}(e,r)}},"PRIVATE")),Je(I1,"0.9.2"),Je(I1,"0.9.2","esm2017");const bf="analytics",AY="firebase_id",RY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T1="https://www.googletagmanager.com/gtag/js",Nt=new $a("@firebase/analytics");function A1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function NY(t,e){const n=document.createElement("script");n.src=`${T1}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function kY(t,e,n,r,i,s){return kE.apply(this,arguments)}function kE(){return(kE=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield A1(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Nt.error(a)}t("config",i,s)})).apply(this,arguments)}function OY(t,e,n,r,i){return OE.apply(this,arguments)}function OE(){return(OE=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield A1(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Nt.error(s)}})).apply(this,arguments)}function LY(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(T1))return e;return null}const Gn=new Xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),S1=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $Y(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function HY(t){return PE.apply(this,arguments)}function PE(){return(PE=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:$Y(r)},s=RY.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Gn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function GY(t){return FE.apply(this,arguments)}function FE(){return(FE=_(function*(t,e=S1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Gn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Gn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zY;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:6e4),x1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function x1(t,e,n){return LE.apply(this,arguments)}function LE(){return(LE=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=S1){const{appId:s,measurementId:o}=t;try{yield qY(r,e)}catch(a){if(o)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield HY(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!WY(a)){if(i.deleteThrottleMetadata(s),o)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?mv(n,i.intervalMillis,30):mv(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),Nt.debug(`Calling attemptFetch again in ${u} millis`),x1(t,c,r,i)}})).apply(this,arguments)}function qY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function WY(t){if(!(t instanceof os&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class zY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function KY(){return VE.apply(this,arguments)}function VE(){return(VE=_(function*(){if(!Ba())return Nt.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield pf()}catch(t){return Nt.warn(Gn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function UE(){return(UE=_(function*(t,e,n,r,i,s,o){var a;const u=GY(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Nt.error(f)),e.push(u);const c=KY().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);LY()||NY(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[AY]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class YY{constructor(e){this.app=e}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},R1=[];const N1={};let k1,sl,If="dataLayer",jE=!1;function ZY(t,e,n){!function(){const t=[];if(ff()&&t.push("This is a browser extension environment."),hv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Gn.create("invalid-analytics-context",{errorInfo:e});Nt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Gn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Gn.create("no-api-key");Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[r])throw Gn.create("already-exists",{id:r});if(!jE){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(If);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=_(function*(o,a,u){try{"event"===o?yield OY(t,e,n,a,u):"config"===o?yield kY(t,e,n,r,a,u):t("set",a)}catch(c){Nt.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(xi,R1,N1,If,"gtag");sl=s,k1=o,jE=!0}return xi[r]=function(t,e,n,r,i,s,o){return UE.apply(this,arguments)}(t,R1,N1,e,k1,If,n),new YY(t)}function BE(){return(BE=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function sJ(){return WE.apply(this,arguments)}function WE(){return(WE=_(function*(){if(ff()||!hv()||!Ba())return!1;try{return yield pf()}catch(t){return!1}})).apply(this,arguments)}const O1="@firebase/analytics";In(new cn(bf,(e,{options:n})=>ZY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),In(new cn("analytics-internal",function(e){try{const n=e.getProvider(bf).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=as(t),function(t,e,n,r,i){return BE.apply(this,arguments)}(sl,xi[t.app.options.appId],e,n,r).catch(i=>Nt.error(i))}(n,r,i,s)}}catch(n){throw Gn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Je(O1,"0.7.2"),Je(O1,"0.7.2","esm2017");class uJ extends be{constructor(e,n){super()}schedule(e,n=0){return this}}class zE extends uJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null}}let F1=(()=>{class t{constructor(n,r=t.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return t.now=()=>Date.now(),t})();class ei extends F1{constructor(e,n=F1.now){super(e,()=>ei.delegate&&ei.delegate!==this?ei.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,n=0,r){return ei.delegate&&ei.delegate!==this?ei.delegate.schedule(e,n,r):super.schedule(e,n,r)}flush(e){const{actions:n}=this;if(this.active)return void n.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this.active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const dJ=new class extends ei{}(class extends zE{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),hJ=new ei(zE);function us(){}function Dn(t,e,n){return function(i){return i.lift(new fJ(t,e,n))}}class fJ{constructor(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}call(e,n){return n.subscribe(new pJ(e,this.nextOrObserver,this.error,this.complete))}}class pJ extends Ie{constructor(e,n,r,i){super(e),this._tapNext=us,this._tapError=us,this._tapComplete=us,this._tapError=r||us,this._tapComplete=i||us,Mn(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||us,this._tapError=n.error||us,this._tapComplete=n.complete||us)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}let gJ=1;const mJ=Promise.resolve(),Cf={};function L1(t){return t in Cf&&(delete Cf[t],!0)}const V1={setImmediate(t){const e=gJ++;return Cf[e]=!0,mJ.then(()=>L1(e)&&t()),e},clearImmediate(t){L1(t)}},KE=new class extends ei{flush(e){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,s=n.length;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while(++i<s&&(e=n.shift()));if(this.active=!1,r){for(;++i<s&&(e=n.shift());)e.unsubscribe();throw r}}}(class extends zE{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return null!==r&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=V1.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,n,r);0===e.actions.length&&(V1.clearImmediate(n),e.scheduled=void 0)}});class Df extends J{constructor(e,n=0,r=KE){super(),this.source=e,this.delayTime=n,this.scheduler=r,(!function(t){return!hi(t)&&t-parseFloat(t)+1>=0}(n)||n<0)&&(this.delayTime=0),(!r||"function"!=typeof r.schedule)&&(this.scheduler=KE)}static create(e,n=0,r=KE){return new Df(e,n,r)}static dispatch(e){const{source:n,subscriber:r}=e;return this.add(n.subscribe(r))}_subscribe(e){return this.scheduler.schedule(Df.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function U1(t,e=0){return function(r){return r.lift(new EJ(t,e))}}class EJ{constructor(e,n){this.scheduler=e,this.delay=n}call(e,n){return new Df(n,this.delay,this.scheduler).subscribe(e)}}const za=new J(t=>t.complete());function Tf(t){return t?function(t){return new J(e=>t.schedule(()=>e.complete()))}(t):za}function Y(...t){let e=t[t.length-1];return Id(e)?(t.pop(),Mg(t,e)):Fg(t)}class lr{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,n,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(e,n,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,n,r)}toObservable(){switch(this.kind){case"N":return Y(this.value);case"E":return function(t,e){return new J(n=>n.error(t))}(this.error);case"C":return Tf()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new lr("N",e):lr.undefinedValueNotification}static createError(e){return new lr("E",void 0,e)}static createComplete(){return lr.completeNotification}}function j1(t,e=0){return function(r){return r.lift(new CJ(t,e))}}lr.completeNotification=new lr("C"),lr.undefinedValueNotification=new lr("N",void 0);class CJ{constructor(e,n=0){this.scheduler=e,this.delay=n}call(e,n){return n.subscribe(new QE(e,this.scheduler,this.delay))}}class QE extends Ie{constructor(e,n,r=0){super(e),this.scheduler=n,this.delay=r}static dispatch(e){const{notification:n,destination:r}=e;n.observe(r),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(QE.dispatch,this.delay,new DJ(e,this.destination)))}_next(e){this.scheduleMessage(lr.createNext(e))}_error(e){this.scheduleMessage(lr.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(lr.createComplete()),this.unsubscribe()}}class DJ{constructor(e,n){this.notification=e,this.destination=n}}const YE=new Sa("7.1.1"),JE="__angularfire_symbol__analyticsIsSupported",ZE="__angularfire_symbol__remoteConfigIsSupported",XE="__angularfire_symbol__messagingIsSupported";globalThis[JE]||(globalThis[JE]=sJ().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[XE]||(globalThis[XE]=D1().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[ZE]||(globalThis[ZE]=H9().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const nw=(t,e)=>{const n=e?[e]:$k(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ka(){}class G1{constructor(e,n=dJ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class TJ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)),n.pipe(Dn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let q1=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new G1(Zone.current)),this.insideAngular=n.run(()=>new G1(Zone.current,hJ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(R(Be))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ro(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function AJ(t){return ro().ngZone.runOutsideAngular(()=>t())}function io(t){return ro().ngZone.run(()=>t())}function SJ(t){return ro(),function(t){return function(n){return(n=n.lift(new TJ(t.ngZone))).pipe(U1(t.outsideAngular),j1(t.insideAngular))}}(ro())(t)}const RJ=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),io(()=>t.apply(n,arguments))}},Af=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=io(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ka,{},Ka,Ka)))),arguments[i]=RJ(arguments[i],n));const r=AJ(()=>t.apply(this,arguments));if(!e){if(r instanceof J){const i=ro();return r.pipe(U1(i.outsideAngular),j1(i.insideAngular))}return io(()=>r)}return r instanceof J?r.pipe(SJ):r instanceof Promise?io(()=>new Promise((i,s)=>r.then(o=>io(()=>i(o)),o=>io(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:io(()=>r)};class Qa{constructor(e){return e}}class W1{constructor(){return $k()}}const rw=new te("angularfire2._apps"),MJ={provide:Qa,useFactory:function(t){return t&&1===t.length?t[0]:new Qa(Bk())},deps:[[new Fe,rw]]},kJ={provide:W1,deps:[[new Fe,rw]]};function OJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Qa(r)}}let PJ=(()=>{class t{constructor(n){Je("angularfire",YE.full,"core"),Je("angularfire",YE.full,"app"),Je("angular",Ly.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(R(qc))},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({providers:[MJ,kJ]}),t})();function FJ(t,...e){return{ngModule:PJ,providers:[{provide:rw,useFactory:OJ(t),multi:!0,deps:[Be,ye,q1,...e]}]}}const LJ=Af(SQ,!0);const VJ=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},K1=new Xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Q1=new $a("@firebase/auth");function Sf(t,...e){Q1.logLevel<=fe.ERROR&&Q1.error(`Auth (9.2.0): ${t}`,...e)}function Tn(t,...e){throw iw(t,...e)}function ti(t,...e){return iw(t,...e)}function Y1(t,e,n){const r=Object.assign(Object.assign({},VJ()),{[e]:n});return new Xr("auth","Firebase",r).create(e,{appName:t.name})}function iw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K1.create(t,...e)}function A(t,e,...n){if(!t)throw iw(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function cs(t,e){t||ni(e)}const J1=new Map;function Ri(t){cs(t instanceof Function,"Expected a class definition");let e=J1.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J1.set(t,e),e)}function Z1(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class al{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=Ok()||Pk()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Z1()||"https:"===Z1()||ff()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class aw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},GJ=new al(3e4,6e4);function Et(t,e,n,r){return uw.apply(this,arguments)}function uw(){return(uw=_(function*(t,e,n,r,i={}){return X1(t,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Vk(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(aw.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),aw.fetch()(eO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})})).apply(this,arguments)}function X1(t,e,n){return cw.apply(this,arguments)}function cw(){return(cw=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HJ),e);try{const i=new qJ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw xf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw xf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw xf(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Y1(t,l,c);Tn(t,l)}}catch(i){if(i instanceof os)throw i;Tn(t,"network-request-failed")}})).apply(this,arguments)}function eO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class qJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"timeout")),GJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}function dw(){return(dw=_(function*(t,e){return Et(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function KJ(t,e){return fw.apply(this,arguments)}function fw(){return(fw=_(function*(t,e){return Et(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function pw(){return(pw=_(function*(t,e=!1){const n=as(t),r=yield n.getIdToken(e),i=Rf(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ul(gw(i.auth_time)),issuedAtTime:ul(gw(i.iat)),expirationTime:ul(gw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function gw(t){return 1e3*Number(t)}function Rf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return cv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Sf("Failed to decode base64 JWT payload"),null)}catch(i){return Sf("Caught error parsing JWT payload as JSON",i),null}}function Mi(t,e){return mw.apply(this,arguments)}function mw(){return(mw=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof os&&JJ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function JJ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class ZJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class tO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cl(t){return yw.apply(this,arguments)}function yw(){return(yw=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Mi(t,KJ(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?tZ(s.providerUserInfo):[],a=eZ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tO(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function _w(){return(_w=_(function*(t){const e=as(t);yield cl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function eZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tZ(t){return t.map(e=>{var{providerId:n}=e,r=Sk(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vw(){return(vw=_(function*(t,e){const n=yield X1(t,{},()=>{const r=Vk({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=eO(t,i,"/v1/token",`key=${s}`);return aw.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=Rf(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return vw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ll;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return ni("not implemented")}}function ls(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class so{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ZJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new tO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield Mi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return pw.apply(this,arguments)}(this,e)}reload(){return function(t){return _w.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new so(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield cl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield Mi(e,function(t,e){return dw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:k,isAnonymous:H,providerData:Ne,stsTokenManager:mn}=n;A(T&&mn,e,"internal-error");const Po=ll.fromJSON(this.name,mn);A("string"==typeof T,e,"internal-error"),ls(d,e.name),ls(h,e.name),A("boolean"==typeof k,e,"internal-error"),A("boolean"==typeof H,e,"internal-error"),ls(f,e.name),ls(p,e.name),ls(m,e.name),ls(g,e.name),ls(v,e.name),ls(y,e.name);const di=new so({uid:T,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Po,createdAt:v,lastLoginAt:y});return Ne&&Array.isArray(Ne)&&(di.providerData=Ne.map(xs=>Object.assign({},xs))),g&&(di._redirectEventId=g),di}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new ll;i.updateFromServerResponse(n);const s=new so({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield cl(s),s})()}}const nO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Nf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Nf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?so._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new Ja(Ri(nO),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ri(nO);const o=Nf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=so._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new Ja(s,e,r)):new Ja(s,e,r)})()}}function rO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function(t=Hn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function(t=Hn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function(t=Hn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function(t=Hn()){return/webos/i.test(t)}(e))return"Webos";if(function(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function(t=Hn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function(t=Hn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function lO(t,e=[]){let n;switch(t){case"Browser":n=rO(Hn());break;case"Worker":n=`${rO(Hn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.2.0/${e.length?e.join(","):"FirebaseCore-web"}`}class sZ{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dO(this),this.idTokenSubscription=new dO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(_(function*(){var i;r._deleted||(r.persistenceManager=yield Ja.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(n),!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield cl(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?as(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return _(function*(){if(!n._deleted)return e&&A(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(_(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Ri(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&Ri(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Ja.create(n,[Ri(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}class dO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new L5(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new al(3e4,6e4),new al(2e3,1e4),new Map,new al(3e4,6e4),new al(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);var $O="@firebase/auth";class zX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(t){In(new cn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{A(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),A(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lO(t)},u=new sZ(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ri);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),In(new cn("auth-internal",e=>{const n=function(t){return as(t)}(e.getProvider("auth").getImmediate());return new zX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je($O,"0.19.0",void 0),Je($O,"0.19.0","esm2017")}("Browser");class qO{constructor(){return nw("auth")}}const WO=new Map,XX={activated:!1,tokenObservers:[]},eee={initialized:!1,enabled:!1};function ln(t){return WO.get(t)||XX}function ri(t,e){WO.set(t,e)}function Gf(){return eee}class ree{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new dv,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new dv,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const qn=new Xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function YO(t){if(!ln(t).activated)throw qn.create("use-before-activation",{appName:t.name})}function JO(t,e){return nI.apply(this,arguments)}function nI(){return(nI=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw qn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw qn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw qn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function uee(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const pl="firebase-app-check-store";let qf=null;function XO(){return qf||(qf=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(qn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pl,{keyPath:"compositeKey"})}}}catch(n){e(qn.create("storage-open",{originalErrorMessage:n.message}))}}),qf)}function rI(){return(rI=_(function*(t,e){const r=(yield XO()).transaction(pl,"readwrite"),s=r.objectStore(pl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(qn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Wf=new $a("@firebase/app-check");function rP(t,e){return Ba()?function(t,e){return function(t,e){return rI.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Wf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function iP(){return Gf().enabled}function sP(){return aI.apply(this,arguments)}function aI(){return(aI=_(function*(){const t=Gf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _ee={error:"UNKNOWN_ERROR"};function vee(t){return cv.encodeString(JSON.stringify(t),!1)}function zf(t){return uI.apply(this,arguments)}function uI(){return(uI=_(function*(t,e=!1){const n=t.app;YO(n);const r=ln(n);let s,o,i=r.token;if(!i){const a=yield r.cachedTokenPromise;a&&gl(a)&&(i=a,ri(n,Object.assign(Object.assign({},r),{token:i})),aP(n,{token:i.token}))}if(!e&&i&&gl(i))return{token:i.token};if(iP()){const a=yield JO(uee(n,yield sP()),t.platformLoggerProvider);return yield rP(n,a),ri(n,Object.assign(Object.assign({},r),{token:a})),{token:a.token}}try{i=yield r.provider.getToken()}catch(a){Wf.error(a),s=a}return i?(o={token:i.token},ri(n,Object.assign(Object.assign({},r),{token:i})),yield rP(n,i)):o=wee(s),aP(n,o),o})).apply(this,arguments)}function cI(t,e){const n=ln(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ri(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function aP(t,e){const n=ln(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function gl(t){return t.expireTimeMillis-Date.now()>0}function wee(t){return{token:vee(_ee),error:t}}class bee{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=ln(this.app);for(const n of e)cI(this.app,n.next);return Promise.resolve()}}const dP="app-check-internal";In(new cn("app-check",t=>function(t,e){return new bee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(dP).initialize()})),In(new cn(dP,t=>function(t){return{getToken:e=>zf(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=ln(i),o={next:n,error:r,type:e},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const u=function(t){const{app:e}=t;return new ree(_(function*(){let r;if(r=ln(e).token?yield zf(t,!0):yield zf(t),r.error)throw r.error}),()=>!0,()=>{const n=ln(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t);a.tokenRefresher=u}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&gl(s.token)){const u=s.token;Promise.resolve().then(()=>n({token:u.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(u=>{u&&gl(u)&&n({token:u.token})}).catch(()=>{});ri(i,a)}(t,"INTERNAL",e),removeTokenListener:e=>cI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Je("@firebase/app-check","0.4.2");class fP{constructor(){return nw("app-check")}}"undefined"!=typeof window&&window;var M,Vee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oi={},pI=pI||{},K=Vee||self;function Kf(){}function gI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ml(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mI="closure_uid_"+(1e9*Math.random()>>>0),jee=0;function Bee(t,e,n){return t.call.apply(t.bind,arguments)}function $ee(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bee:$ee).apply(null,arguments)}function Qf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ds(){this.s=this.s,this.o=this.o}var Gee={};ds.prototype.s=!1,ds.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,mI)&&t[mI]||(t[mI]=++jee)}(this);delete Gee[t]}},ds.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gP=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function mP(t){return Array.prototype.concat.apply([],arguments)}function yI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Yf(t){return/^[\s\xa0]*$/.test(t)}var hn,yP=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function dn(t,e){return-1!=t.indexOf(e)}function _I(t,e){return t<e?-1:t>e?1:0}e:{var _P=K.navigator;if(_P){var vP=_P.userAgent;if(vP){hn=vP;break e}}hn=""}function vI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function EP(t){const e={};for(const n in t)e[n]=t[n];return e}var wP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<wP.length;s++)n=wP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function EI(t){return EI[" "](t),t}EI[" "]=Kf;var Jf,zee=dn(hn,"Opera"),Za=dn(hn,"Trident")||dn(hn,"MSIE"),IP=dn(hn,"Edge"),wI=IP||Za,CP=dn(hn,"Gecko")&&!(dn(hn.toLowerCase(),"webkit")&&!dn(hn,"Edge"))&&!(dn(hn,"Trident")||dn(hn,"MSIE"))&&!dn(hn,"Edge"),Kee=dn(hn.toLowerCase(),"webkit")&&!dn(hn,"Edge");function DP(){var t=K.document;return t?t.documentMode:void 0}e:{var bI="",II=function(){var t=hn;return CP?/rv:([^\);]+)(\)|;)/.exec(t):IP?/Edge\/([\d\.]+)/.exec(t):Za?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Kee?/WebKit\/(\S+)/.exec(t):zee?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(II&&(bI=II?II[1]:""),Za){var CI=DP();if(null!=CI&&CI>parseFloat(bI)){Jf=String(CI);break e}}Jf=bI}var Qee={};function Yee(){return e=Qee,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=yP(String(Jf)).split("."),n=yP("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=_I(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||_I(0==i[2].length,0==s[2].length)||_I(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var Jee=K.document&&Za&&(DP()||parseInt(Jf,10))||void 0,Zee=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",Kf,e),K.removeEventListener("test",Kf,e)}catch(n){}return t}();function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function yl(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CP){e:{try{EI(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yl.Z.h.call(this)}}zt.prototype.h=function(){this.defaultPrevented=!0},kt(yl,zt);var Xee={2:"touch",3:"pen",4:"mouse"};yl.prototype.h=function(){yl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _l="closure_listenable_"+(1e6*Math.random()|0),ete=0;function tte(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ete,this.ca=this.fa=!1}function Zf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Xf(t){this.src=t,this.g={},this.h=0}function TI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=pP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function AI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Xf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=AI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new tte(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var SI="closure_lm_"+(1e6*Math.random()|0),xI={};function AP(t,e,n,r,i){if(r&&r.once)return xP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AP(t,e[s],n,r,i);return null}return n=kI(n),t&&t[_l]?t.N(e,n,ml(r)?!!r.capture:!!r,i):SP(t,e,n,!1,r,i)}function SP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ml(i)?!!i.capture:!!i,a=NI(t);if(a||(t[SI]=a=new Xf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=rte;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zee||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(NP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function xP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xP(t,e[s],n,r,i);return null}return n=kI(n),t&&t[_l]?t.O(e,n,ml(r)?!!r.capture:!!r,i):SP(t,e,n,!0,r,i)}function RP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)RP(t,e[s],n,r,i);else r=ml(r)?!!r.capture:!!r,n=kI(n),t&&t[_l]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=AI(s=t.g[e],n,r,i))&&(Zf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=NI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=AI(e,n,r,i)),(n=-1<t?e[t]:null)&&RI(n))}function RI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[_l])TI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=NI(e))?(TI(n,t),0==n.h&&(n.src=null,e[SI]=null)):Zf(t)}}}function NP(t){return t in xI?xI[t]:xI[t]="on"+t}function rte(t,e){if(t.ca)t=!0;else{e=new yl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&RI(t),t=n.call(r,e)}return t}function NI(t){return(t=t[SI])instanceof Xf?t:null}var MI="__closure_events_fn_"+(1e9*Math.random()>>>0);function kI(t){return"function"==typeof t?t:(t[MI]||(t[MI]=function(e){return t.handleEvent(e)}),t[MI])}function wt(){ds.call(this),this.i=new Xf(this),this.P=this,this.I=null}function Ot(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;bP(e=new zt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ep(o,r,!0,e)&&i}if(i=ep(o=e.g=t,r,!0,e)&&i,i=ep(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ep(o=e.g=n[s],r,!1,e)&&i}function ep(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&TI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}kt(wt,ds),wt.prototype[_l]=!0,wt.prototype.removeEventListener=function(t,e,n,r){RP(this,t,e,n,r)},wt.prototype.M=function(){if(wt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zf(n[r]);delete t.g[e],t.h--}}this.I=null},wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var OI=K.JSON.stringify;function ite(){var t=kP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var FI,MP=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ote,t=>t.reset());class ote{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ate(t){K.setTimeout(()=>{throw t},0)}function PI(t,e){FI||function(){var t=K.Promise.resolve(void 0);FI=function(){t.then(cte)}}(),LI||(FI(),LI=!0),kP.add(t,e)}var LI=!1,kP=new class{constructor(){this.h=this.g=null}add(e,n){const r=MP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function cte(){for(var t;t=ite();){try{t.h.call(t.g)}catch(n){ate(n)}var e=MP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}LI=!1}function tp(t,e){wt.call(this),this.h=t||1,this.g=e||K,this.j=Mt(this.kb,this),this.l=Date.now()}function VI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function UI(t,e,n){if("function"==typeof t)n&&(t=Mt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Mt(t.handleEvent,t)}return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function OP(t){t.g=UI(()=>{t.g=null,t.i&&(t.i=!1,OP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kt(tp,wt),(M=tp.prototype).da=!1,M.S=null,M.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ot(this,"tick"),this.da&&(VI(this),this.start()))}},M.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.M=function(){tp.Z.M.call(this),VI(this),delete this.g};class lte extends ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OP(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vl(t){ds.call(this),this.h=t,this.g={}}kt(vl,ds);var PP=[];function FP(t,e,n,r){Array.isArray(n)||(n&&(PP[0]=n.toString()),n=PP);for(var i=0;i<n.length;i++){var s=AP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LP(t){vI(t.g,function(e,n){this.g.hasOwnProperty(n)&&RI(e)},t),t.g={}}function np(){this.g=!0}function Xa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return OI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}vl.prototype.M=function(){vl.Z.M.call(this),LP(this)},vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},np.prototype.Aa=function(){this.g=!1},np.prototype.info=function(){};var co={},VP=null;function rp(){return VP=VP||new wt}function UP(t){zt.call(this,co.Ma,t)}function El(t){const e=rp();Ot(e,new UP(e,t))}function jP(t,e){zt.call(this,co.STAT_EVENT,t),this.stat=e}function fn(t){const e=rp();Ot(e,new jP(e,t))}function BP(t,e){zt.call(this,co.Na,t),this.size=e}function wl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}co.Ma="serverreachability",kt(UP,zt),co.STAT_EVENT="statevent",kt(jP,zt),co.Na="timingevent",kt(BP,zt);var ip={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$P={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jI(){}function GP(){}jI.prototype.h=null;var HI,bl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function BI(){zt.call(this,"d")}function $I(){zt.call(this,"c")}function sp(){}function Il(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new vl(this),this.P=gte,this.W=new tp(t=wI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qP}function qP(){this.i=null,this.g="",this.h=!1}kt(BI,zt),kt($I,zt),kt(sp,jI),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},HI=new sp;var gte=45e3,GI={},op={};function qI(t,e,n){t.K=1,t.v=dp(Pi(e)),t.s=n,t.U=!0,WP(t,null)}function WP(t,e){t.F=Date.now(),Cl(t),t.A=Pi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),tF(n.h,"t",r),t.C=0,n=t.l.H,t.h=new qP,t.g=CF(t.l,n?e:null,!t.s),0<t.O&&(t.L=new lte(Mt(t.Ia,t,t.g),t.O)),FP(t.V,t.g,"readystatechange",t.gb),e=t.H?EP(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),El(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function zP(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function KP(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=mte(t,n),i==op){4==e&&(t.o=4,fn(14),r=!1),Xa(t.j,t.m,null,"[Incomplete Response]");break}if(i==GI){t.o=4,fn(15),Xa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Xa(t.j,t.m,i,null),WI(t,i)}zP(t)&&i!=op&&i!=GI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),rC(e),e.L=!0,fn(11))):(Xa(t.j,t.m,n,"[Invalid Chunked Response]"),lo(t),Dl(t))}function mte(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?op:(n=Number(e.substring(n,r)),isNaN(n)?GI:(r+=1)+n>e.length?op:(e=e.substr(r,n),t.C=r+n,e))}function Cl(t){t.Y=Date.now()+t.P,QP(t,t.P)}function QP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wl(Mt(t.eb,t),e)}function ap(t){t.B&&(K.clearTimeout(t.B),t.B=null)}function Dl(t){0==t.l.G||t.I||EF(t.l,t)}function lo(t){ap(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,VI(t.W),LP(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function WI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||QI(n.i,t)))if(n.I=t.N,!t.J&&QI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wl(Mt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;yp(n),gp(n)}nC(n),fn(18)}if(1>=iF(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else po(n,11)}else if((t.J||n.g==t)&&yp(n),!Yf(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(dn(p,"spdy")||dn(p,"quic")||dn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(YI(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ve(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=IF(r,r.H?r.la:null,r.W),o.J){sF(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(ap(a),Cl(a)),r.g=o}else _F(r);0<n.l.length&&mp(n)}else"stop"!=c[0]&&"close"!=c[0]||po(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?po(n,7):eC(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}El(4)}catch(c){}}function zI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(gI(t)||"string"==typeof t)gP(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(gI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(gI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function eu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof eu)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function KI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ho(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ho(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ho(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(M=Il.prototype).setTimeout=function(t){this.P=t},M.gb=function(t){t=t.target;const e=this.L;e&&3==Fi(t)?e.l():this.Ia(t)},M.Ia=function(t){try{if(t==this.g)e:{const l=Fi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||wI||this.g&&(this.h.h||this.g.ga()||fF(this.g)))){this.I||4!=l||7==e||El(8==e||0>=d?3:2),ap(this);var n=this.g.ba();this.N=n;t:if(zP(this)){var r=fF(this.g);t="";var i=r.length,s=4==Fi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){lo(this),Dl(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,fn(12),lo(this),Dl(this);break e}Xa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,WI(this,n)}this.U?(KP(this,l,o),wI&&this.i&&3==l&&(FP(this.V,this.W,"tick",this.fb),this.W.start())):(Xa(this.j,this.m,o,null),WI(this,o)),4==l&&lo(this),this.i&&!this.I&&(4==l?EF(this.l,this):(this.i=!1,Cl(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,fn(12)):(this.o=0,fn(13)),lo(this),Dl(this)}}}catch(l){}},M.fb=function(){if(this.g){var t=Fi(this.g),e=this.g.ga();this.C<e.length&&(ap(this),KP(this,t,e),this.i&&4!=t&&Cl(this))}},M.cancel=function(){this.I=!0,lo(this)},M.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(El(3),fn(17)),lo(this),this.o=2,Dl(this)):QP(this,this.Y-t)},(M=eu.prototype).R=function(){KI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},M.T=function(){return KI(this),this.g.concat()},M.get=function(t,e){return ho(this.h,t)?this.h[t]:e},M.set=function(t,e){ho(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},M.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var YP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fo(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof fo){this.g=void 0!==e?e:t.g,up(this,t.j),this.s=t.s,cp(this,t.i),lp(this,t.m),this.l=t.l,e=t.h;var n=new Sl;n.i=e.i,e.g&&(n.g=new eu(e.g),n.h=e.h),JP(this,n),this.o=t.o}else t&&(n=String(t).match(YP))?(this.g=!!e,up(this,n[1]||"",!0),this.s=Tl(n[2]||""),cp(this,n[3]||"",!0),lp(this,n[4]),this.l=Tl(n[5]||"",!0),JP(this,n[6]||"",!0),this.o=Tl(n[7]||"")):(this.g=!!e,this.h=new Sl(null,this.g))}function Pi(t){return new fo(t)}function up(t,e,n){t.j=n?Tl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function cp(t,e,n){t.i=n?Tl(e,!0):e}function lp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function JP(t,e,n){e instanceof Sl?(t.h=e,function(t,e){e&&!t.j&&(hs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(XP(this,r),tF(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Al(e,Cte)),t.h=new Sl(e,t.g))}function Ve(t,e,n){t.h.set(e,n)}function dp(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Al(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,wte),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function wte(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Al(e,ZP,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Al(e,ZP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Al(n,"/"==n.charAt(0)?Ite:bte,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Al(n,Dte)),t.join("")};var ZP=/[#\/\?@]/g,bte=/[#\?:]/g,Ite=/[#\?]/g,Cte=/[#\?@]/g,Dte=/#/g;function Sl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hs(t){t.g||(t.g=new eu,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function XP(t,e){hs(t),e=tu(t,e),ho(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ho((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&KI(t)))}function eF(t,e){return hs(t),e=tu(t,e),ho(t.g.h,e)}function tF(t,e,n){XP(t,e),0<n.length&&(t.i=null,t.g.set(tu(t,e),yI(n)),t.h+=n.length)}function tu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nF(t){this.l=t||Ste,t=K.PerformanceNavigationTiming?0<(t=K.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=Sl.prototype).add=function(t,e){hs(this),this.i=null,t=tu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){hs(this),this.g.forEach(function(n,r){gP(n,function(i){t.call(e,i,r,this)},this)},this)},M.T=function(){hs(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},M.R=function(t){hs(this);var e=[];if("string"==typeof t)eF(this,t)&&(e=mP(e,this.g.get(tu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=mP(e,t[n])}return e},M.set=function(t,e){return hs(this),this.i=null,eF(this,t=tu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Ste=10;function rF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function iF(t){return t.h?1:t.g?t.g.size:0}function QI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function YI(t,e){t.g?t.g.add(e):t.h=e}function sF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function oF(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return yI(t.i)}function JI(){}function xte(){this.g=new JI}function Rte(t,e,n){const r=n||"";try{zI(t,function(i,s){let o=i;ml(i)&&(o=OI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function xl(t){this.l=t.$b||null,this.j=t.ib||!1}function fp(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ZI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nF.prototype.cancel=function(){if(this.i=oF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},JI.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)},JI.prototype.parse=function(t){return K.JSON.parse(t,void 0)},kt(xl,jI),xl.prototype.g=function(){return new fp(this.l,this.j)},xl.prototype.i=function(t){return function(){return t}}({}),kt(fp,wt);var ZI=0;function aF(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Rl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nl(t)}function Nl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=fp.prototype).open=function(t,e){if(this.readyState!=ZI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nl(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rl(this)),this.readyState=ZI},M.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aF(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},M.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rl(this):Nl(this),3==this.readyState&&aF(this)}},M.Ua=function(t){this.g&&(this.response=this.responseText=t,Rl(this))},M.Ta=function(t){this.g&&(this.response=t,Rl(this))},M.ha=function(){this.g&&Rl(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Mte=K.JSON.parse;function nt(t){wt.call(this),this.headers=new eu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uF,this.K=this.L=!1}kt(nt,wt);var uF="",kte=/^https?$/i,Ote=["POST","PUT"];function Fte(t){return"content-type"==t.toLowerCase()}function cF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lF(t),pp(t)}function lF(t){t.D||(t.D=!0,Ot(t,"complete"),Ot(t,"error"))}function dF(t){if(t.h&&void 0!==pI&&(!t.C[1]||4!=Fi(t)||2!=t.ba()))if(t.v&&4==Fi(t))UI(t.Fa,0,t);else if(Ot(t,"readystatechange"),4==Fi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(YP)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!kte.test(i?i.toLowerCase():"")}n=r}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var o=2<Fi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",lF(t)}}finally{pp(t)}}}function pp(t,e){if(t.g){hF(t);const n=t.g,r=t.C[0]?Kf:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function hF(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function Fi(t){return t.g?t.g.readyState:0}function fF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case uF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function XI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return vI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ve(t,e,n))}function Ml(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pF(t){this.za=0,this.l=[],this.h=new np,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ml("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ml("baseRetryDelayMs",5e3,t),this.$a=Ml("retryDelaySeedMs",1e4,t),this.Ya=Ml("forwardChannelMaxRetries",2,t),this.ra=Ml("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new nF(t&&t.concurrentRequestLimit),this.Ca=new xte,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function eC(t){if(gF(t),3==t.G){var e=t.V++,n=Pi(t.F);Ve(n,"SID",t.J),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),kl(t,n),(e=new Il(t,t.h,e,void 0)).K=2,e.v=dp(Pi(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=CF(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Cl(e)}bF(t)}function gp(t){t.g&&(rC(t),t.g.cancel(),t.g=null)}function gF(t){gp(t),t.u&&(K.clearTimeout(t.u),t.u=null),yp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&K.clearTimeout(t.m),t.m=null)}function tC(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&mp(t)}function mp(t){rF(t.i)||t.m||(t.m=!0,PI(t.Ha,t),t.C=0)}function mF(t,e){var n;n=e?e.m:t.V++;const r=Pi(t.F);Ve(r,"SID",t.J),Ve(r,"RID",n),Ve(r,"AID",t.U),kl(t,r),t.o&&t.s&&XI(r,t.o,t.s),n=new Il(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=yF(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),YI(t.i,n),qI(n,r,e)}function kl(t,e){t.j&&zI({},function(n,r){Ve(e,r,n)})}function yF(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Mt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Rte(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function _F(t){t.g||t.u||(t.Y=1,PI(t.Ga,t),t.A=0)}function nC(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=wl(Mt(t.Ga,t),wF(t,t.A)),t.A++,0))}function rC(t){null!=t.B&&(K.clearTimeout(t.B),t.B=null)}function vF(t){t.g=new Il(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Pi(t.oa);Ve(e,"RID","rpc"),Ve(e,"SID",t.J),Ve(e,"CI",t.N?"0":"1"),Ve(e,"AID",t.U),kl(t,e),Ve(e,"TYPE","xmlhttp"),t.o&&t.s&&XI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=dp(Pi(e)),n.s=null,n.U=!0,WP(n,t)}function yp(t){null!=t.v&&(K.clearTimeout(t.v),t.v=null)}function EF(t,e){var n=null;if(t.g==e){yp(t),rC(t),t.g=null;var r=2}else{if(!QI(t.i,e))return;n=e.D,sF(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ot(r=rp(),new BP(r,n,e,i)),mp(t)}else _F(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(iF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=wl(Mt(t.Ha,t,e),wF(t,t.C)),t.C++,0)))}(t,e)||2==r&&nC(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:po(t,5);break;case 4:po(t,10);break;case 3:po(t,6);break;default:po(t,2)}}function wF(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function po(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Mt(t.jb,t);n||(n=new fo("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||up(n,"https"),dp(n)),function(t,e){const n=new np;if(K.Image){const r=new Image;r.onload=Qf(hp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qf(hp,n,r,"TestLoadImage: error",!1,e),r.onabort=Qf(hp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qf(hp,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fn(2);t.G=0,t.j&&t.j.va(e),bF(t),gF(t)}function bF(t){t.G=0,t.I=-1,t.j&&((0!=oF(t.i).length||0!=t.l.length)&&(t.i.i.length=0,yI(t.l),t.l.length=0),t.j.ua())}function IF(t,e,n){let r=function(t){return t instanceof fo?Pi(t):new fo(t,void 0)}(n);if(""!=r.i)e&&cp(r,e+"."+r.i),lp(r,r.m);else{const i=K.location;r=function(t,e,n,r){var i=new fo(null,void 0);return t&&up(i,t),e&&cp(i,e),n&&lp(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&vI(t.aa,function(i,s){Ve(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ve(r,e,n),Ve(r,"VER",t.ma),kl(t,r),r}function CF(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nt(n&&t.Ba&&!t.qa?new xl({ib:!0}):t.qa)).L=t.H,e}function DF(){}function _p(){if(Za&&!(10<=Number(Jee)))throw Error("Environmental error: no available transport.")}function Wn(t,e){wt.call(this),this.g=new pF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Yf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new nu(this)}function TF(t){BI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function AF(){$I.call(this),this.status=1}function nu(t){this.g=t}(M=nt.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():HI.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:HI),this.g.onreadystatechange=Mt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void cF(this,s)}t=n||"";const i=new eu(this.headers);r&&zI(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=Fte;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=K.FormData&&t instanceof K.FormData,!(0<=pP(Ote,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hF(this),0<this.B&&((this.K=function(t){return Za&&Yee()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.pa,this)):this.A=UI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cF(this,s)}},M.pa=function(){void 0!==pI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),pp(this))},M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pp(this,!0)),nt.Z.M.call(this)},M.Fa=function(){this.s||(this.F||this.v||this.l?dF(this):this.cb())},M.cb=function(){dF(this)},M.ba=function(){try{return 2<Fi(this)?this.g.status:-1}catch(t){return-1}},M.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},M.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Mte(e)}},M.Da=function(){return this.m},M.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=pF.prototype).ma=8,M.G=1,M.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},M.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Il(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=EP(s),bP(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yF(this,i,e),Ve(n=Pi(this.F),"RID",t),Ve(n,"CVER",22),this.D&&Ve(n,"X-HTTP-Session-Id",this.D),kl(this,n),this.o&&s&&XI(n,this.o,s),YI(this.i,i),this.Ra&&Ve(n,"TYPE","init"),this.ja?(Ve(n,"$req",e),Ve(n,"SID","null"),i.$=!0,qI(i,n,null)):qI(i,n,e),this.G=2}}else 3==this.G&&(t?mF(this,t):0==this.l.length||rF(this.i)||mF(this))},M.Ga=function(){if(this.u=null,vF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=wl(Mt(this.bb,this),t)}},M.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fn(10),gp(this),vF(this))},M.ab=function(){null!=this.v&&(this.v=null,gp(this),nC(this),fn(19))},M.jb=function(t){t?(this.h.info("Successfully pinged google.com"),fn(2)):(this.h.info("Failed to ping google.com"),fn(1))},(M=DF.prototype).xa=function(){},M.wa=function(){},M.va=function(){},M.ua=function(){},M.Oa=function(){},_p.prototype.g=function(t,e){return new Wn(t,e)},kt(Wn,wt),Wn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),PI(Mt(t.hb,t,e))),fn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=IF(t,null,t.W),mp(t)},Wn.prototype.close=function(){eC(this.g)},Wn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,tC(this.g,e)}else this.v?((e={}).__data__=OI(t),tC(this.g,e)):tC(this.g,t)},Wn.prototype.M=function(){this.g.j=null,delete this.j,eC(this.g),delete this.g,Wn.Z.M.call(this)},kt(TF,BI),kt(AF,$I),kt(nu,DF),nu.prototype.xa=function(){Ot(this.g,"a")},nu.prototype.wa=function(t){Ot(this.g,new TF(t))},nu.prototype.va=function(t){Ot(this.g,new AF(t))},nu.prototype.ua=function(){Ot(this.g,"b")},_p.prototype.createWebChannel=_p.prototype.g,Wn.prototype.send=Wn.prototype.u,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,ip.NO_ERROR=0,ip.TIMEOUT=8,ip.HTTP_ERROR=6,$P.COMPLETE="complete",GP.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",wt.prototype.listen=wt.prototype.N,nt.prototype.listenOnce=nt.prototype.O,nt.prototype.getLastError=nt.prototype.La,nt.prototype.getLastErrorCode=nt.prototype.Da,nt.prototype.getStatus=nt.prototype.ba,nt.prototype.getResponseJson=nt.prototype.Qa,nt.prototype.getResponseText=nt.prototype.ga,nt.prototype.send=nt.prototype.ea;var Ute=Oi.createWebChannelTransport=function(){return new _p},jte=Oi.getStatEventTarget=function(){return rp()},iC=Oi.ErrorCode=ip,Bte=Oi.EventType=$P,$te=Oi.Event=co,SF=Oi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hte=Oi.FetchXmlHttpFactory=xl,vp=Oi.WebChannel=GP,Gte=Oi.XhrIo=nt;const xF="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let ru="9.2.0";const fs=new $a("@firebase/firestore");function sC(){return fs.logLevel}function D(t,...e){if(fs.logLevel<=fe.DEBUG){const n=e.map(oC);fs.debug(`Firestore (${ru}): ${t}`,...n)}}function rt(t,...e){if(fs.logLevel<=fe.ERROR){const n=e.map(oC);fs.error(`Firestore (${ru}): ${t}`,...n)}}function Ep(t,...e){if(fs.logLevel<=fe.WARN){const n=e.map(oC);fs.warn(`Firestore (${ru}): ${t}`,...n)}}function oC(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function $(t,e){t||P()}function S(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class RF{constructor(e,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class qte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class zte{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new RF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Pt(e)}}class Kte{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Qte{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Kte(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.g(r),this.p=r=>n.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Yte(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}zn.T=-1;function ue(t,e){return t<e?-1:t>e?1:0}function iu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new Ft(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function kF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class Ol{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Ol.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Ol{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const Jte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ol{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return Jte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new It(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new It(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const Zte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if($(!!t),"string"==typeof t){let e=0;const n=Zte.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ou(t){return"string"==typeof t?It.fromBase64String(t):It.fromUint8Array(t)}function aC(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function PF(t){const e=t.mapValue.fields.__previous_value__;return aC(e)?PF(e):e}function Pl(t){const e=ps(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}function mo(t){return null==t}function wp(t){return 0===t&&1/t==-1/0}class O{constructor(e){this.path=e}static fromPath(e){return new O(_e.fromString(e))}static fromName(e){return new O(_e.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new _e(e.slice()))}}function yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aC(t)?4:10:P()}function ii(t,e){const n=yo(t);if(n!==yo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ps(r.timestampValue),o=ps(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ou(t.bytesValue).isEqual(ou(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=it(r.doubleValue),o=it(i.doubleValue);return s===o?wp(s)===wp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return iu(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(kF(s)!==kF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ii(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function Fl(t,e){return void 0!==(t.values||[]).find(n=>ii(n,e))}function au(t,e){const n=yo(t),r=yo(e);if(n!==r)return ue(n,r);switch(n){case 0:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=it(i.integerValue||i.doubleValue),a=it(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return LF(t.timestampValue,e.timestampValue);case 4:return LF(Pl(t),Pl(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ou(i),a=ou(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ue(o[u],a[u]);if(0!==c)return c}return ue(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ue(it(i.latitude),it(s.latitude));return 0!==o?o:ue(it(i.longitude),it(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=au(o[u],a[u]);if(c)return c}return ue(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ue(a[l],c[l]);if(0!==d)return d;const h=au(o[a[l]],u[c[l]]);if(0!==h)return h}return ue(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function LF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ue(t,e);const n=ps(t),r=ps(e),i=ue(n.seconds,r.seconds);return 0!==i?i:ue(n.nanos,r.nanos)}function uC(t){return cC(t)}function cC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ps(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ou(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=cC(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${cC(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function lC(t){return!!t&&"integerValue"in t}function dC(t){return!!t&&"arrayValue"in t}function VF(t){return!!t&&"nullValue"in t}function UF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ip(t){return!!t&&"mapValue"in t}function Ll(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(Ll(this.value))}}class Ue{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Ue(e,0,X.min(),Qt.empty(),0)}static newFoundDocument(e,n,r){return new Ue(e,1,n,r,0)}static newNoDocument(e,n){return new Ue(e,2,n,Qt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,Qt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Ue(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xte{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.A=null}}function BF(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xte(t,e,n,r,i,s,o)}function Vl(t){const e=S(t);if(null===e.A){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+uC(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),mo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Tp(e.startAt)),e.endAt&&(n+="|ub:",n+=Tp(e.endAt)),e.A=n}return e.A}function Cp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!cne(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!ii(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GF(t.startAt,e.startAt)&&GF(t.endAt,e.endAt)}function Dp(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class pn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.R(e,n,r):new nne(e,n,r):"array-contains"===n?new sne(e,r):"in"===n?new one(e,r):"not-in"===n?new ane(e,r):"array-contains-any"===n?new une(e,r):new pn(e,n,r)}static R(e,n,r){return"in"===n?new rne(e,r):new ine(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.P(au(n,this.value)):null!==n&&yo(this.value)===yo(n)&&this.P(au(n,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nne extends pn{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.P(n)}}class rne extends pn{constructor(e,n){super(e,"in",n),this.keys=$F(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ine extends pn{constructor(e,n){super(e,"not-in",n),this.keys=$F(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $F(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class sne extends pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dC(n)&&Fl(n.arrayValue,this.value)}}class one extends pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Fl(this.value.arrayValue,n)}}class ane extends pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Fl(this.value.arrayValue,n)}}class une extends pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}class Ul{constructor(e,n){this.position=e,this.before=n}}function Tp(t){return`${t.before?"b":"a"}:${t.position.map(e=>uC(e)).join(",")}`}class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function cne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function HF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):au(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function GF(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}class Li{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.V=null,this.S=null}}function cu(t){return new Li(t)}function Ap(t){return!mo(t.limit)&&"F"===t.limitType}function Sp(t){return!mo(t.limit)&&"L"===t.limitType}function lu(t){const e=S(t);if(null===e.V){e.V=[];const n=function(t){for(const e of t.filters)if(e.v())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.V.push(new uu(n)),e.V.push(new uu(Kt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.V.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new uu(Kt.keyField(),s))}}}return e.V}function hr(t){const e=S(t);if(!e.S)if("F"===e.limitType)e.S=BF(e.path,e.collectionGroup,lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of lu(e))n.push(new uu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ul(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Ul(e.startAt.position,!e.startAt.before):null;e.S=BF(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.S}function jl(t,e){return Cp(hr(t),hr(e))&&t.limitType===e.limitType}function zF(t){return`${Vl(hr(t))}|lt:${t.limitType}`}function gC(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${uC(r.value)}`;var r}).join(", ")}]`),mo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+Tp(t.startAt)),t.endAt&&(e+=", endAt: "+Tp(t.endAt)),`Target(${e})`}(hr(t))}; limitType=${t.limitType})`}function Bl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!HF(n.startAt,lu(n),r)||n.endAt&&HF(n.endAt,lu(n),r)));var n,r}function KF(t){return(e,n)=>{let r=!1;for(const i of lu(t)){const s=lne(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function lne(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?au(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class xp{constructor(){this._=void 0}}function dne(t,e,n){return t instanceof du?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof _o?XF(t,e):t instanceof vo?eL(t,e):function(r,i){const s=function(t,e){return t instanceof hu?lC(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=tL(s)+tL(r.C);return lC(s)&&lC(r.C)?function(t){return{integerValue:""+t}}(o):function(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(e)?"-0":e}}(r.N,o)}(t,e)}function hne(t,e,n){return t instanceof _o?XF(t,e):t instanceof vo?eL(t,e):n}class du extends xp{}class _o extends xp{constructor(e){super(),this.elements=e}}function XF(t,e){const n=nL(e);for(const r of t.elements)n.some(i=>ii(i,r))||n.push(r);return{arrayValue:{values:n}}}class vo extends xp{constructor(e){super(),this.elements=e}}function eL(t,e){let n=nL(e);for(const r of t.elements)n=n.filter(i=>!ii(i,r));return{arrayValue:{values:n}}}class hu extends xp{constructor(e,n){super(),this.N=e,this.C=n}}function tL(t){return it(t.integerValue||t.doubleValue)}function nL(t){return dC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Rp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class rL{}function gne(t,e,n){t instanceof Hl?function(r,i,s){const o=r.value.clone(),a=aL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof gs?function(r,i,s){if(!Rp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=aL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(oL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function mC(t,e,n){var i;t instanceof Hl?function(r,i,s){if(!Rp(r.precondition,i))return;const o=r.value.clone(),a=uL(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(sL(i),o).setHasLocalMutations()}(t,e,n):t instanceof gs?function(r,i,s){if(!Rp(r.precondition,i))return;const o=uL(r.fieldTransforms,s,i),a=i.data;a.setAll(oL(r)),a.setAll(o),i.convertToFoundDocument(sL(i),a).setHasLocalMutations()}(t,e,n):Rp(t.precondition,i=e)&&i.convertToNoDocument(X.min())}function iL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&iu(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof _o&&r instanceof _o||n instanceof vo&&r instanceof vo?iu(n.elements,r.elements,ii):n instanceof hu&&r instanceof hu?ii(n.C,r.C):n instanceof du&&r instanceof du);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function sL(t){return t.isFoundDocument()?t.version:X.min()}class Hl extends rL{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class gs extends rL{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function oL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aL(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hne(o,a,n[i]))}return r}function uL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dne(s,o,e))}return r}class yne{constructor(e){this.count=e}}var ot,pe;function lL(t){if(void 0===t)return rt("GRPC error has no .code"),E.UNKNOWN;switch(t){case ot.OK:return E.OK;case ot.CANCELLED:return E.CANCELLED;case ot.UNKNOWN:return E.UNKNOWN;case ot.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case ot.INTERNAL:return E.INTERNAL;case ot.UNAVAILABLE:return E.UNAVAILABLE;case ot.UNAUTHENTICATED:return E.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case ot.NOT_FOUND:return E.NOT_FOUND;case ot.ALREADY_EXISTS:return E.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return E.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case ot.ABORTED:return E.ABORTED;case ot.OUT_OF_RANGE:return E.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return E.UNIMPLEMENTED;case ot.DATA_LOSS:return E.DATA_LOSS;default:return P()}}(pe=ot||(ot={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class gt{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Np(this.root,e,this.comparator,!1)}getReverseIterator(){return new Np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Np(this.root,e,this.comparator,!0)}}class Np{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Lt.RED,this.left=null!=i?i:Lt.EMPTY,this.right=null!=s?s:Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1,Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dL(this.data.getIterator())}getIteratorFrom(e){return new dL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class dL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const _ne=new gt(O.comparator);function fr(){return _ne}const vne=new gt(O.comparator);function _C(){return vne}new gt(O.comparator);const wne=new ze(O.comparator);function Ce(...t){let e=wne;for(const n of t)e=e.add(n);return e}const bne=new ze(ue);function Mp(){return bne}class ql{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n)),new ql(X.min(),r,Mp(),fr(),Ce())}}class Wl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Wl(It.EMPTY_BYTE_STRING,n,Ce(),Ce(),Ce())}}class kp{constructor(e,n,r,i){this.k=e,this.removedTargetIds=n,this.key=r,this.$=i}}class fL{constructor(e,n){this.targetId=e,this.O=n}}class pL{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gL{constructor(){this.F=0,this.M=yL(),this.L=It.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Ce(),n=Ce(),r=Ce();return this.M.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new Wl(this.L,this.B,e,n,r)}G(){this.U=!1,this.M=yL()}H(e,n){this.U=!0,this.M=this.M.insert(e,n)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Ine{constructor(e){this.tt=e,this.et=new Map,this.nt=fr(),this.st=mL(),this.it=new ze(ue)}rt(e){for(const n of e.k)e.$&&e.$.isFoundDocument()?this.ot(n,e.$):this.ct(n,e.key,e.$);for(const n of e.removedTargetIds)this.ct(n,e.key,e.$)}at(e){this.forEachTarget(e,n=>{const r=this.ut(n);switch(e.state){case 0:this.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(n);break;case 3:this.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),r.j(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.et.forEach((r,i)=>{this.ht(i)&&n(i)})}ft(e){const n=e.targetId,r=e.O.count,i=this.dt(n);if(i){const s=i.target;if(Dp(s))if(0===r){const o=new O(s.path);this.ct(n,o,Ue.newNoDocument(o,X.min()))}else $(1===r);else this.wt(n)!==r&&(this.lt(n),this.it=this.it.add(n))}}_t(e){const n=new Map;this.et.forEach((s,o)=>{const a=this.dt(o);if(a){if(s.current&&Dp(a.target)){const u=new O(a.target.path);null!==this.nt.get(u)||this.gt(o,u)||this.ct(o,u,Ue.newNoDocument(u,e))}s.K&&(n.set(o,s.W()),s.G())}});let r=Ce();this.st.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.dt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new ql(e,n,this.it,this.nt,r);return this.nt=fr(),this.st=mL(),this.it=new ze(ue),i}ot(e,n){if(!this.ht(e))return;const r=this.gt(e,n.key)?2:0;this.ut(e).H(n.key,r),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(e))}ct(e,n,r){if(!this.ht(e))return;const i=this.ut(e);this.gt(e,n)?i.H(n,1):i.J(n),this.st=this.st.insert(n,this.yt(n).delete(e)),r&&(this.nt=this.nt.insert(n,r))}removeTarget(e){this.et.delete(e)}wt(e){const n=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let n=this.et.get(e);return n||(n=new gL,this.et.set(e,n)),n}yt(e){let n=this.st.get(e);return n||(n=new ze(ue),this.st=this.st.insert(e,n)),n}ht(e){const n=null!==this.dt(e);return n||D("WatchChangeAggregator","Detected inactive target",e),n}dt(e){const n=this.et.get(e);return n&&n.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new gL),this.tt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}gt(e,n){return this.tt.getRemoteKeysForTarget(e).has(n)}}function mL(){return new gt(O.comparator)}function yL(){return new gt(O.comparator)}const Cne={asc:"ASCENDING",desc:"DESCENDING"},Dne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Tne{constructor(e,n){this.databaseId=e,this.D=n}}function Ct(t){return $(!!t),X.fromTimestamp(function(e){const n=ps(e);return new Ft(n.seconds,n.nanos)}(t))}function vL(t){const e=_e.fromString(t);return $(NL(e)),e}function si(t,e){const n=vL(e);if(n.get(1)!==t.databaseId.projectId)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(wL(n))}function EC(t,e){return function(t,e){return(n=t,new _e(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Ql(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wL(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function DL(t,e){return{documents:[EC(t,e.path)]}}function TL(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=EC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=EC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(UF(l.value))return{unaryFilter:{field:fu(l.field),op:"IS_NAN"}};if(VF(l.value))return{unaryFilter:{field:fu(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(UF(l.value))return{unaryFilter:{field:fu(l.field),op:"IS_NOT_NAN"}};if(VF(l.value))return{unaryFilter:{field:fu(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(l.field),op:kne(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:fu((c=u).field),direction:Mne(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.D||mo(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=xL(e.startAt)),e.endAt&&(n.structuredQuery.endAt=xL(e.endAt)),n}function AL(t){let e=function(t){const e=vL(t);return 4===e.length?_e.emptyPath():wL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=SL(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new uu(pu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,mo(d)?null:d}(n.limit));let u=null;n.startAt&&(u=RL(n.startAt));let c=null;return n.endAt&&(c=RL(n.endAt)),function(t,e,n,r,i,s,o,a){return new Li(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function SL(t){return t?void 0!==t.unaryFilter?[Pne(t)]:void 0!==t.fieldFilter?[One(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>SL(e)).reduce((e,n)=>e.concat(n)):P():[]}function xL(t){return{before:t.before,values:t.position}}function RL(t){return new Ul(t.values||[],!!t.before)}function Mne(t){return Cne[t]}function kne(t){return Dne[t]}function fu(t){return{fieldPath:t.canonicalString()}}function pu(t){return Kt.fromServerFormat(t.fieldPath)}function One(t){return pn.create(pu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(t.fieldFilter.op),t.fieldFilter.value)}function Pne(t){switch(t.unaryFilter.op){case"IS_NAN":const e=pu(t.unaryFilter.field);return pn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=pu(t.unaryFilter.field);return pn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pu(t.unaryFilter.field);return pn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=pu(t.unaryFilter.field);return pn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return P()}}function NL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Or(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ML(e)),e=Lne(t.get(n),e);return ML(e)}function Lne(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function ML(t){return t+"\x01\x01"}class Kn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}Kn.store="owner",Kn.key="owner";class ms{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}ms.store="mutationQueues",ms.keyPath="userId";class Oe{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Oe.store="mutations",Oe.keyPath="batchId",Oe.userMutationsIndex="userMutationsIndex",Oe.userMutationsKeyPath=["userId","batchId"];class Yt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Or(n)]}static key(e,n,r){return[e,Or(n),r]}}Yt.store="documentMutations",Yt.PLACEHOLDER=new Yt;class Ke{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Ke.store="remoteDocuments",Ke.readTimeIndex="readTimeIndex",Ke.readTimeIndexPath="readTime",Ke.collectionReadTimeIndex="collectionReadTimeIndex",Ke.collectionReadTimeIndexPath=["parentPath","readTime"];class oi{constructor(e){this.byteSize=e}}oi.store="remoteDocumentGlobal",oi.key="remoteDocumentGlobalKey";class Sn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Sn.store="targets",Sn.keyPath="targetId",Sn.queryTargetsIndexName="queryTargetsIndex",Sn.queryTargetsKeyPath=["canonicalId","targetId"];class Vt{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Vt.store="targetDocuments",Vt.keyPath=["targetId","path"],Vt.documentTargetsIndex="documentTargetsIndex",Vt.documentTargetsKeyPath=["path","targetId"];class Qn{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Qn.key="targetGlobalKey",Qn.store="targetGlobal";class Eo{constructor(e,n){this.collectionId=e,this.parent=n}}Eo.store="collectionParents",Eo.keyPath=["collectionId","parent"];class Ui{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}Ui.store="clientMetadata",Ui.keyPath="clientId";class gu{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}gu.store="bundles",gu.keyPath="bundleId";class mu{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}mu.store="namedQueries",mu.keyPath="name";const kL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function wo(t){return"IndexedDbTransactionError"===t.name}class bC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gne(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&mC(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&mC(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(X.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&iu(this.mutations,e.mutations,(n,r)=>iL(n,r))&&iu(this.baseMutations,e.baseMutations,(n,r)=>iL(n,r))}}class ys{constructor(e,n,r,i,s=X.min(),o=X.min(),a=It.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class FL{constructor(e){this.Wt=e}}function TC(t){const e=AL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Wne{constructor(){this.Gt=new AC}addToCollectionParentIndex(e,n){return this.Gt.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.Gt.getEntries(n))}}class AC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(_e.comparator)).toArray()}}class Rn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class Io{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Io(0)}static ie(){return new Io(-1)}}function Co(t){return xC.apply(this,arguments)}function xC(){return(xC=_(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==kL)throw t;D("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class bu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}}class JL{constructor(e,n,r){this.He=e,this.In=n,this.Ht=r}An(e,n){return this.In.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Rn(e,n,r))}Rn(e,n,r){return this.He.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Pn(e,n){return this.He.getEntries(e,n).next(r=>this.vn(e,r).next(()=>r))}vn(e,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return O.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Vn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Sn(e,n,r):this.Dn(e,n,r);var i}Vn(e,n){return this.An(e,new O(n)).next(r=>{let i=_C();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(e,n,r){const i=n.collectionGroup;let s=_C();return this.Ht.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new Li(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Dn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Dn(e,n,r){let i,s;return this.He.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.In.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Cn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Ue.newInvalidDocument(l),i=i.insert(l,d)),mC(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{Bl(n,a)||(i=i.remove(o))}),i))}Cn(e,n,r){let i=Ce();for(const o of n)for(const a of o.mutations)a instanceof gs&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.He.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class kC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Nn=r,this.xn=i}static kn(e,n){let r=Ce(),i=Ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kC(e,n.fromCache,r,i)}}class ZL{$n(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(X.min())?this.Fn(e,n):this.On.Pn(e,i).next(s=>{const o=this.Mn(n,s);return(Ap(n)||Sp(n))&&this.Ln(n.limitType,o,i,r)?this.Fn(e,n):(sC()<=fe.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gC(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Mn(e,n){let r=new ze(KF(e));return n.forEach((i,s)=>{Bl(e,s)&&(r=r.add(s))}),r}Ln(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fn(e,n){return sC()<=fe.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",gC(n)),this.On.getDocumentsMatchingQuery(e,n,X.min())}}class ire{constructor(e,n,r,i){this.persistence=e,this.Bn=n,this.N=i,this.Un=new gt(ue),this.qn=new bu(s=>Vl(s),Cp),this.Kn=X.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new JL(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Un))}}function eV(t,e){return OC.apply(this,arguments)}function OC(){return(OC=_(function*(t,e){const n=S(t);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.In.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new JL(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=Ce();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.Pn(o,d).next(h=>({Wn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function tV(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ze.getLastRemoteSnapshotVersion(n))}function ore(t,e){const n=S(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.ze.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.ze.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,g=c,$((m=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.ze.updateTargetData(s,f))}var p,m,g});let u=fr();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=Ce();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=fr();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(X.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):D("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(X.min())){const c=n.ze.getLastRemoteSnapshotVersion(s).next(l=>n.ze.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.Qn.vn(s,u)).next(()=>u)}).then(s=>(n.Un=i,s))}function Iu(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ze.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.ze.allocateTargetId(r).next(o=>(i=new ys(e,o,0,r.currentSequenceNumber),n.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Un.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Un=n.Un.insert(r.targetId,r),n.qn.set(e,r.targetId)),r})}function Cu(t,e,n){return PC.apply(this,arguments)}function PC(){return(PC=_(function*(t,e,n){const r=S(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!wo(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)})).apply(this,arguments)}function jp(t,e,n){const r=S(t);let i=X.min(),s=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.qn.get(c);return void 0!==d?w.resolve(l.Un.get(d)):l.ze.getTargetData(u,c)}(r,o,hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Bn.getDocumentsMatchingQuery(o,e,n?i:X.min(),n?s:Ce())).next(a=>({documents:a,Gn:s})))}class dre{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return w.resolve(this.Yn.get(n))}saveBundleMetadata(e,n){var r;return this.Yn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ct(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,{name:(r=n).name,query:TC(r.bundledQuery),readTime:Ct(r.readTime)}),w.resolve();var r}}class UC{constructor(){this.Zn=new ze(Dt.ts),this.es=new ze(Dt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Dt(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}cs(e){const n=new O(new _e([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new O(new _e([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=Ce();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.Zn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return O.comparator(e.key,n.key)||ue(e.ls,n.ls)}static ns(e,n){return ue(e.ls,n.ls)||O.comparator(e.key,n.key)}}class hre{constructor(e,n){this.Ht=e,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new ze(Dt.ts)}checkEmpty(e){return w.resolve(0===this.In.length)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++;const o=new bC(s,n,r,i);this.In.push(o);for(const a of i)this.ds=this.ds.add(new Dt(a.key,s)),this.Ht.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(e,n){const i=this._s(n+1),s=i<0?0:i;return w.resolve(this.In.length>s?this.In[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return w.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this.ws(o.ls);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ue);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),w.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new O(s),0);let a=new ze(ue);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ls)),!0)},o),w.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this.ws(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.ys(n.batchId,"removed")),this.In.shift();let r=this.ds;return w.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,n){const r=new Dt(n,0),i=this.ds.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}ys(e,n){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const n=this._s(e);return n<0||n>=this.In.length?null:this.In[n]}}class fre{constructor(e,n){this.Ht=e,this.ps=n,this.docs=new gt(O.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.ps(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Ht.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.clone():Ue.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Ue.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=fr();const s=new O(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||Bl(n,u)&&(i=i.insert(u.key,u.clone()))}return w.resolve(i)}Ts(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pre(this)}getSize(e){return w.resolve(this.size)}}class pre extends class{constructor(){this.changes=new bu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:X.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Ue.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Se=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.Se.addEntry(e,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Se.getEntry(e,n)}getAllFromCache(e,n){return this.Se.getEntries(e,n)}}class gre{constructor(e){this.persistence=e,this.Es=new bu(n=>Vl(n),Cp),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Is=0,this.As=new UC,this.targetCount=0,this.Rs=Io.se()}forEachTarget(e,n){return this.Es.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Is&&(this.Is=n),w.resolve()}ce(e){this.Es.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.ce(n),w.resolve()}removeTargetData(e,n){return this.Es.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Es.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Es.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Es.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.cs(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.As.containsKey(n))}}class mre{constructor(e,n){this.bs={},this.Le=new zn(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new gre(this),this.Ht=new Wne,this.He=new fre(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new FL(n),this.Je=new dre(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new hre(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new yre(this.Le.next());return this.referenceDelegate.vs(),r(i).next(s=>this.referenceDelegate.Vs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ss(e,n){return w.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class yre extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class jC{constructor(e){this.persistence=e,this.Ds=new UC,this.Cs=null}static Ns(e){return new jC(e)}get xs(){if(this.Cs)return this.Cs;throw P()}addReference(e,n,r){return this.Ds.addReference(r,n),this.xs.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Ds.removeReference(r,n),this.xs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),w.resolve()}removeTarget(e,n){this.Ds.cs(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}vs(){this.Cs=new Set}Vs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.xs,r=>{const i=O.fromPath(r);return this.ks(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Cs=null,n.apply(e)))}updateLimboDocument(e,n){return this.ks(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(e){return 0}ks(e,n){return w.or([()=>w.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ss(e,n)])}}class HC{constructor(){this.activeTargetIds=Mp()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aV{constructor(){this.yi=new HC,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,n,r){this.pi[e]=n}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new HC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class _re{Ti(e){}shutdown(){}}class uV{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ere{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class wre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,n,r,i){const s=this.Bi(e,n);D("RestConnection","Sending: ",s,r);const o={};return this.Ui(o,i),this.qi(e,s,o,r).then(a=>(D("RestConnection","Received: ",a),a),a=>{throw Ep("RestConnection",`${e} failed with error: `,a,"url: ",s,"request:",r),a})}Ki(e,n,r,i){return this.Li(e,n,r,i)}Ui(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+ru,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(e[r]=n.authHeaders[r])}Bi(e,n){return`${this.Fi}/v1/${n}:${vre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,n,r,i){return new Promise((s,o)=>{const a=new Gte;a.listenOnce(Bte.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case iC.NO_ERROR:const c=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(c)),s(c);break;case iC.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new C(E.DEADLINE_EXCEEDED,"Request time out"));break;case iC.HTTP_ERROR:const l=a.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(p)>=0?p:E.UNKNOWN}(d.status);o(new C(h,d.message))}else o(new C(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(E.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ji(e,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ute(),s=jte(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Hte({})),this.Ui(o.initMessageHeaders,n),Ok()||Pk()||Hn().indexOf("Electron/")>=0||function(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Hn().indexOf("MSAppHost/")>=0||ff()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");D("Connection","Creating WebChannel: "+a,o);const u=i.createWebChannel(a,o);let c=!1,l=!1;const d=new Ere({vi:f=>{l?D("Connection","Not sending because WebChannel is closed:",f):(c||(D("Connection","Opening WebChannel transport."),u.open(),c=!0),D("Connection","WebChannel sending:",f),u.send(f))},Vi:()=>u.close()}),h=(f,p,m)=>{f.listen(p,g=>{try{m(g)}catch(v){setTimeout(()=>{throw v},0)}})};return h(u,vp.EventType.OPEN,()=>{l||D("Connection","WebChannel transport opened.")}),h(u,vp.EventType.CLOSE,()=>{l||(l=!0,D("Connection","WebChannel transport closed"),d.$i())}),h(u,vp.EventType.ERROR,f=>{l||(l=!0,Ep("Connection","WebChannel transport errored:",f),d.$i(new C(E.UNAVAILABLE,"The operation could not be completed")))}),h(u,vp.EventType.MESSAGE,f=>{var p;if(!l){const m=f.data[0];$(!!m);const g=m,v=g.error||(null===(p=g[0])||void 0===p?void 0:p.error);if(v){D("Connection","WebChannel received error:",v);const y=v.status;let T=function(H){const Ne=ot[H];if(void 0!==Ne)return lL(Ne)}(y),k=v.message;void 0===T&&(T=E.INTERNAL,k="Unknown error status: "+y+" with message "+v.message),l=!0,d.$i(new C(T,k)),u.close()}else D("Connection","WebChannel received:",m),d.Oi(m)}}),h(s,$te.STAT_EVENT,f=>{f.stat===SF.PROXY?D("Connection","Detected buffering proxy"):f.stat===SF.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.ki()},0),d}}function Hp(){return"undefined"!=typeof document?document:null}function ed(t){return new Tne(t,!0)}class qC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Ire extends class{constructor(e,n,r,i,s,o,a){this.Oe=e,this.er=r,this.nr=i,this.sr=s,this.credentialsProvider=o,this.listener=a,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new qC(e,n)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return _(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return _(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return _(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(n)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),n=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===n&&this.Er(r)},r=>{e(()=>{const i=new C(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(i)})})}Er(e){const n=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{n(()=>this.Ir(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi(_(function*(){e.state=0,e.start()}))}Ir(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return n=>{this.Oe.enqueueAndForget(()=>this.ir===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s),this.N=i}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.D?($(void 0===c||"string"==typeof c),It.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),It.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?E.UNKNOWN:lL(u.code);return new C(c,u.message||"")}(o);n=new pL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=si(t,r.document.name),s=Ct(r.document.updateTime),o=new Qt({mapValue:{fields:r.document.fields}}),a=Ue.newFoundDocument(i,s,o);n=new kp(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=si(t,r.document),s=r.readTime?Ct(r.readTime):X.min(),o=Ue.newNoDocument(i,s);n=new kp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=si(t,r.document);n=new kp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,s=new yne(r.count||0);n=new fL(r.targetId,s)}}var u;return n}(this.N,e),r=function(i){if(!("targetChange"in i))return X.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Ct(s.readTime):X.min()}(e);return this.listener.Rr(n,r)}br(e){const n={};n.database=Ql(this.N),n.addTarget=function(i,s){let o;const a=s.target;return o=Dp(a)?{documents:DL(i,a)}:{query:TL(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=function(t,e){return t.D?e.toBase64():e.toUint8Array()}(i,s.resumeToken):s.snapshotVersion.compareTo(X.min())>0&&(o.readTime=function(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp())),o}(this.N,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.mr(n)}Pr(e){const n={};n.database=Ql(this.N),n.removeTarget=e,this.mr(n)}}class Dre extends class{}{constructor(e,n,r){super(),this.credentials=e,this.sr=n,this.N=r,this.kr=!1}$r(){if(this.kr)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Li(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new C(E.UNKNOWN,i.toString())})}Ki(e,n,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Ki(e,n,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new C(E.UNKNOWN,i.toString())})}terminate(){this.kr=!0}}class Tre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(rt(n),this.Mr=!1):D("OnlineStateTracker",n)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Are{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=s,this.zr.Ti(a=>{r.enqueueAndForget(_(function*(){var u;ws(o)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(c){const l=S(c);l.Wr.add(4),yield Du(l),l.Hr.set("Unknown"),l.Wr.delete(4),yield td(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Hr=new Tre(r,i)}}function td(t){return WC.apply(this,arguments)}function WC(){return(WC=_(function*(t){if(ws(t))for(const e of t.Gr)yield e(!0)})).apply(this,arguments)}function Du(t){return zC.apply(this,arguments)}function zC(){return(zC=_(function*(t){for(const e of t.Gr)yield e(!1)})).apply(this,arguments)}function Gp(t,e){const n=S(t);n.Qr.has(e.targetId)||(n.Qr.set(e.targetId,e),YC(n)?QC(n):Au(n).hr()&&KC(n,e))}function nd(t,e){const n=S(t),r=Au(n);n.Qr.delete(e),r.hr()&&lV(n,e),0===n.Qr.size&&(r.hr()?r.wr():ws(n)&&n.Hr.set("Unknown"))}function KC(t,e){t.Jr.Y(e.targetId),Au(t).br(e)}function lV(t,e){t.Jr.Y(e),Au(t).Pr(e)}function QC(t){t.Jr=new Ine({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),Au(t).start(),t.Hr.Lr()}function YC(t){return ws(t)&&!Au(t).ur()&&t.Qr.size>0}function ws(t){return 0===S(t).Wr.size}function dV(t){t.Jr=void 0}function Sre(t){return JC.apply(this,arguments)}function JC(){return(JC=_(function*(t){t.Qr.forEach((e,n)=>{KC(t,e)})})).apply(this,arguments)}function xre(t,e){return ZC.apply(this,arguments)}function ZC(){return(ZC=_(function*(t,e){dV(t),YC(t)?(t.Hr.qr(e),QC(t)):t.Hr.set("Unknown")})).apply(this,arguments)}function Rre(t,e,n){return XC.apply(this,arguments)}function XC(){return(XC=_(function*(t,e,n){if(t.Hr.set("Online"),e instanceof pL&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Qr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Qr.delete(a),i.Jr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qp(t,r)}else if(e instanceof kp?t.Jr.rt(e):e instanceof fL?t.Jr.ft(e):t.Jr.at(e),!n.isEqual(X.min()))try{const r=yield tV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Jr._t(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Qr.get(u);c&&i.Qr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Qr.get(a);if(!u)return;i.Qr.set(a,u.withResumeToken(It.EMPTY_BYTE_STRING,u.snapshotVersion)),lV(i,a);const c=new ys(u.target,a,1,u.sequenceNumber);KC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield qp(t,r)}var r})).apply(this,arguments)}function qp(t,e,n){return eD.apply(this,arguments)}function eD(){return(eD=_(function*(t,e,n){if(!wo(e))throw e;t.Wr.add(1),yield Du(t),t.Hr.set("Offline"),n||(n=()=>tV(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.Wr.delete(1),yield td(t)}))})).apply(this,arguments)}function aD(){return(aD=_(function*(t,e){const n=S(t);e?(n.Wr.delete(2),yield td(n)):e||(n.Wr.add(2),yield Du(n),n.Hr.set("Unknown"))})).apply(this,arguments)}function Au(t){return t.Yr||(t.Yr=function(e,n,r){const i=S(e);return i.$r(),new Ire(n,i.sr,i.credentials,i.N,r)}(t.datastore,t.asyncQueue,{Si:Sre.bind(null,t),Ci:xre.bind(null,t),Rr:Rre.bind(null,t)}),t.Gr.push(function(){var e=_(function*(n){n?(t.Yr.dr(),YC(t)?QC(t):t.Hr.set("Unknown")):(yield t.Yr.stop(),dV(t))});return function(n){return e.apply(this,arguments)}}())),t.Yr}class uD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new uD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Su(t,e){if(rt("AsyncQueue",`${e}: ${t}`),wo(t))return new C(E.UNAVAILABLE,`${e}: ${t}`);throw t}class xu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=_C(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gV{constructor(){this.Zr=new gt(O.comparator)}track(e){const n=e.doc.key,r=this.Zr.get(n);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(n,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(n):1===e.type&&2===r.type?this.Zr=this.Zr.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(n,{type:2,doc:e.doc}):P():this.Zr=this.Zr.insert(n,e)}eo(){const e=[];return this.Zr.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ru{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ru(e,n,xu.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Lre{constructor(){this.no=void 0,this.listeners=[]}}class Vre{constructor(){this.queries=new bu(e=>zF(e),jl),this.onlineState="Unknown",this.so=new Set}}function lD(){return(lD=_(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Lre),i)try{s.no=yield n.onListen(r)}catch(o){const a=Su(o,`Initialization of query '${gC(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.io(n.onlineState),s.no&&e.ro(s.no)&&fD(n)})).apply(this,arguments)}function hD(){return(hD=_(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Ure(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.ro(i)&&(r=!0);o.no=i}}r&&fD(n)}function jre(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function fD(t){t.so.forEach(e=>{e.next()})}class pD{constructor(e,n,r){this.query=e,this.oo=n,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ru(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.uo(e)&&(this.oo.next(e),n=!0):this.ho(e,this.onlineState)&&(this.lo(e),n=!0),this.ao=e,n}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let n=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),n=!0),n}ho(e,n){return!e.fromCache||!(this.options.fo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=Ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class _V{constructor(e){this.key=e}}class vV{constructor(e){this.key=e}}class EV{constructor(e,n){this.query=e,this.po=n,this.To=null,this.current=!1,this.Eo=Ce(),this.mutatedKeys=Ce(),this.Io=KF(e),this.Ao=new xu(this.Io)}get Ro(){return this.po}bo(e,n){const r=n?n.Po:new gV,i=n?n.Ao:this.Ao;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=Ap(this.query)&&i.size===this.query.limit?i.last():null,c=Sp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Bl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.vo(h,f)||(r.track({type:2,doc:f}),g=!0,(u&&this.Io(f,u)>0||c&&this.Io(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(u||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),Ap(this.query)||Sp(this.query))for(;o.size>this.query.limit;){const l=Ap(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ao:o,Po:r,Ln:a,mutatedKeys:s}}vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const s=e.Po.eo();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.Io(c.doc,l.doc)),this.Vo(r);const o=n?this.So():[],a=0===this.Eo.size&&this.current?1:0,u=a!==this.To;return this.To=a,0!==s.length||u?{snapshot:new Ru(this.query,e.Ao,i,s,e.mutatedKeys,0===a,u,!1),Do:o}:{Do:o}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new gV,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(n=>this.po=this.po.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.po=this.po.delete(n)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Ce(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const n=[];return e.forEach(r=>{this.Eo.has(r)||n.push(new vV(r))}),this.Eo.forEach(r=>{e.has(r)||n.push(new _V(r))}),n}No(e){this.po=e.Gn,this.Eo=Ce();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return Ru.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Hre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gre{constructor(e){this.key=e,this.ko=!1}}class qre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.$o={},this.Oo=new bu(a=>zF(a),jl),this.Fo=new Map,this.Mo=new Set,this.Lo=new gt(O.comparator),this.Bo=new Map,this.Uo=new UC,this.qo={},this.Ko=new Map,this.jo=Io.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Wre(t,e){return gD.apply(this,arguments)}function gD(){return(gD=_(function*(t,e){const n=VD(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Iu(n.localStore,hr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield mD(n,e,r,"current"===a),n.isPrimaryClient&&Gp(n.remoteStore,o)}return i})).apply(this,arguments)}function mD(t,e,n,r){return yD.apply(this,arguments)}function yD(){return(yD=_(function*(t,e,n,r){t.Wo=(l,d,h)=>{return(f=_(function*(p,m,g,v){let y=m.view.bo(g);y.Ln&&(y=yield jp(p.localStore,m.query,!1).then(({documents:H})=>m.view.bo(H,y)));const T=v&&v.targetChanges.get(m.targetId),k=m.view.applyChanges(y,p.isPrimaryClient,T);return AD(p,m.targetId,k.Do),k.snapshot}),function(p,m,g,v){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield jp(t.localStore,e,!0),s=new EV(e,i.Gn),o=s.bo(i.documents),a=Wl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);AD(t,n,u.Do);const c=new Hre(e,n,s);return t.Oo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),u.snapshot})).apply(this,arguments)}function zre(t,e){return _D.apply(this,arguments)}function _D(){return(_D=_(function*(t,e){const n=S(t),r=n.Oo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(s=>!jl(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Cu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nd(n.remoteStore,r.targetId),Nu(n,r.targetId)}).catch(Co))):(Nu(n,r.targetId),yield Cu(n.localStore,r.targetId,!0))})).apply(this,arguments)}function wV(t,e){return ED.apply(this,arguments)}function ED(){return(ED=_(function*(t,e){const n=S(t);try{const r=yield ore(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Bo.get(s);o&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ko=!0:i.modifiedDocuments.size>0?$(o.ko):i.removedDocuments.size>0&&($(o.ko),o.ko=!1))}),yield ji(n,r,e)}catch(r){yield Co(r)}})).apply(this,arguments)}function bV(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.io(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.io(o)&&(u=!0)}),u&&fD(a)}(r.eventManager,e),i.length&&r.$o.Rr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qre(t,e,n){return wD.apply(this,arguments)}function wD(){return(wD=_(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Bo.get(e),s=i&&i.key;if(s){let o=new gt(O.comparator);o=o.insert(s,Ue.newNoDocument(s,X.min()));const a=Ce().add(s),u=new ql(X.min(),new Map,new ze(ue),o,a);yield wV(r,u),r.Lo=r.Lo.remove(s),r.Bo.delete(e),SD(r)}else yield Cu(r.localStore,e,!1).then(()=>Nu(r,e,n)).catch(Co)})).apply(this,arguments)}function Nu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(r=>{t.Uo.containsKey(r)||IV(t,r)})}function IV(t,e){t.Mo.delete(e.path.canonicalString());const n=t.Lo.get(e);null!==n&&(nd(t.remoteStore,n),t.Lo=t.Lo.remove(e),t.Bo.delete(n),SD(t))}function AD(t,e,n){for(const r of n)r instanceof _V?(t.Uo.addReference(r.key,e),Xre(t,r)):r instanceof vV?(D("SyncEngine","Document no longer in limbo: "+r.key),t.Uo.removeReference(r.key,e),t.Uo.containsKey(r.key)||IV(t,r.key)):P()}function Xre(t,e){const n=e.key,r=n.path.canonicalString();t.Lo.get(n)||t.Mo.has(r)||(D("SyncEngine","New document in limbo: "+n),t.Mo.add(r),SD(t))}function SD(t){for(;t.Mo.size>0&&t.Lo.size<t.maxConcurrentLimboResolutions;){const e=t.Mo.values().next().value;t.Mo.delete(e);const n=new O(_e.fromString(e)),r=t.jo.next();t.Bo.set(r,new Gre(n)),t.Lo=t.Lo.insert(n,r),Gp(t.remoteStore,new ys(hr(cu(n.path)),r,2,zn.T))}}function ji(t,e,n){return xD.apply(this,arguments)}function xD(){return(xD=_(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Wo(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=kC.kn(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.$o.Rr(i),yield(a=_(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Nn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!wo(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Un.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Un=l.Un.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function eie(t,e){return RD.apply(this,arguments)}function RD(){return(RD=_(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield eV(n.localStore,e);n.currentUser=e,(i=n).Ko.forEach(o=>{o.forEach(a=>{a.reject(new C(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ji(n,r.Wn)}var i})).apply(this,arguments)}function tie(t,e){const n=S(t),r=n.Bo.get(e);if(r&&r.ko)return Ce().add(r.key);{let i=Ce();const s=n.Fo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Ro)}return i}}function VD(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qre.bind(null,e),e.$o.Rr=Ure.bind(null,e.eventManager),e.$o.Go=jre.bind(null,e.eventManager),e}class lie{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.N=ed(e.databaseInfo.databaseId),n.sharedClientState=n.Ho(e),n.persistence=n.Jo(e),yield n.persistence.start(),n.gcScheduler=n.Yo(e),n.localStore=n.Xo(e)})()}Yo(e){return null}Xo(e){return function(t,e,n,r){return new ire(t,e,n,r)}(this.persistence,new ZL,e.initialUser,this.N)}Jo(e){return new mre(jC.Ns,this.N)}Ho(e){return new aV}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jD{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>bV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=eie.bind(null,r.syncEngine),yield function(t,e){return aD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vre}createDatastore(e){const n=ed(e.databaseInfo.databaseId),r=new wre(e.databaseInfo);return new Dre(e.credentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>bV(this.syncEngine,a,0),o=uV.bt()?new uV:new _re,new Are(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new qre(r,i,s,o,a,u);return c&&(l.Qo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=_(function*(n){const r=S(n);D("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Du(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Wp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class mie{constructor(e,n,r){var i=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Pt.UNAUTHENTICATED,this.clientId=class{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Yte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var s=_(function*(o){D("FirestoreClient","Received user=",o.uid),yield i.credentialListener(o),i.user=o});return function(o){return s.apply(this,arguments)}}())}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),n.resolve()}catch(r){const i=Su(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function AV(t,e){return BD.apply(this,arguments)}function BD(){return(BD=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield eV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function SV(t,e){return $D.apply(this,arguments)}function $D(){return($D=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield HD(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=_(function*(o,a){const u=S(o);u.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const c=ws(u);u.Wr.add(3),yield Du(u),c&&u.Hr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Wr.delete(3),yield td(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e})).apply(this,arguments)}function HD(t){return GD.apply(this,arguments)}function GD(){return(GD=_(function*(t){return t.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),yield AV(t,new lie)),t.offlineComponents})).apply(this,arguments)}function zp(t){return qD.apply(this,arguments)}function qD(){return(qD=_(function*(t){return t.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),yield SV(t,new jD)),t.onlineComponents})).apply(this,arguments)}function Mu(t){return KD.apply(this,arguments)}function KD(){return(KD=_(function*(t){const e=yield zp(t),n=e.eventManager;return n.onListen=Wre.bind(null,e.syncEngine),n.onUnlisten=zre.bind(null,e.syncEngine),n})).apply(this,arguments)}class Die{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class rd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}const kV=new Map;function PV(t){if(O.isDocumentKey(t))throw new C(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}(t);throw new C(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class LV{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new C(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new C(E.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LV({}),this._settingsFrozen=!1,e instanceof rd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new C(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(r.options.projectId)}(e))}get app(){if(!this._app)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LV(e),void 0!==e.credentials&&(this._credentials=function(n){if(!n)return new qte;switch(n.type){case"gapi":const r=n.client;return $(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Qte(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new C(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kV.get(e);n&&(D("ComponentProvider","Removing Datastore"),kV.delete(e),n.terminate())}(this),Promise.resolve()}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}}class Jt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jt(this.firestore,e,this._query)}}class ai extends Jt{constructor(e,n,r){super(e,n,cu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new O(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function Aie(t,e,...n){if(t=as(t),function(t,e,n){if(!n)throw new C(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof id){const r=_e.fromString(e,...n);return PV(r),new ai(t,null,r)}{if(!(t instanceof Ze||t instanceof ai))throw new C(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return PV(r),new ai(t.firestore,null,r)}}class Rie{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new qC(this,"async_queue_retry"),this.Rc=()=>{const n=Hp();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ar.tr()};const e=Hp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const n=Hp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const n=new bt;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return _(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(n){if(!wo(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const n=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.bc(),this.Ac.indexOf(e)>-1&&(n=0);const i=uD.createAndSchedule(this,e,n,r,s=>this.Vc(s));return this.yc.push(i),i}bc(){this.Tc&&P()}verifyOperationInProgress(){}Sc(){var e=this;return _(function*(){let n;do{n=e._c,yield n}while(n!==e._c)})()}Dc(e){for(const n of this.yc)if(n.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.yc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const n=this.yc.indexOf(e);this.yc.splice(n,1)}}function YD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class He extends id{constructor(e,n){super(e,n),this.type="firestore",this._queue=new Rie,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||VV(this),this._firestoreClient.terminate()}}function Mie(t=Bk()){return yf(t,"firestore").getImmediate()}function VV(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Die(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new mie(t._credentials,t._queue,r)}class ku{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(It.fromBase64String(e))}catch(n){throw new C(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class JD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}const Uie=new RegExp("[~\\*/\\[\\]]");function Yp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(E.INVALID_ARGUMENT,a+t+u)}class rT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jie extends rT{data(){return super.data()}}function Jp(t,e){return"string"==typeof e?function(t,e,n){if(e.search(Uie)>=0)throw Yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch(r){throw Yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof ku?e._internalPath:e._delegate._internalPath}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends rT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zp extends Pu{data(e={}){return super.data(e)}}class Fu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zp(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Zp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Bie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class So extends class{convertValue(e,n="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){const r={};return go(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new JD(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=PF(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=ps(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);$(NL(r));const i=new rd(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}!function(t,e=!0){ru="9.2.0",In(new cn("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new He(i,new zte(n.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Je(xF,"3.2.0",t),Je(xF,"3.2.0","esm2017")}();var Kie={includeMetadataChanges:!1};function oT(t,e){return void 0===e&&(e=Kie),new J(function(n){return{unsubscribe:function(t,...e){var n,r,i;t=as(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||YD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(YD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ze)c=ge(t.firestore,He),l=cu(t._key.path),u={next:d=>{e[o]&&e[o](function(t,e,n){const r=n.docs.get(e._key),i=new So(t);return new Pu(t,i,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ge(t,Jt);c=ge(d.firestore,He),l=d._query;const h=new So(c);u={next:f=>{e[o]&&e[o](new Fu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function(t){if(Sp(t)&&0===t.explicitOrderBy.length)throw new C(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new Wp(p),g=new pD(h,m,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function(t,e){return lD.apply(this,arguments)}(yield Mu(d),g)})),()=>{m.ec(),d.asyncQueue.enqueueAndForget(_(function*(){return function(t,e){return hD.apply(this,arguments)}(yield Mu(d),g)}))}}(function(t){return t._firestoreClient||VV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}function tse(t,e){return void 0===e&&(e={}),function(t){return oT(t,{includeMetadataChanges:!0}).pipe(ve(function(e){return e.docs}))}(t).pipe(ve(function(n){return n.map(function(r){return function(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class eg{constructor(e){return e}}const cU="firestore",cT=new te("angularfire2.firestore-instances");function ise(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new eg(r)}}const sse={provide:class{constructor(){return nw(cU)}},deps:[[new Fe,cT]]},ose={provide:eg,useFactory:function(t,e){const n=function(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(cU,t,e);return n&&new eg(n)},deps:[[new Fe,cT],Qa]};let ase=(()=>{class t{constructor(){Je("angularfire",YE.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({providers:[ose,sse]}),t})();function use(t,...e){return{ngModule:ase,providers:[{provide:cT,useFactory:ise(t),multi:!0,deps:[Be,ye,q1,W1,[new Fe,qO],[new Fe,fP],...e]}]}}const cse=Af(tse,!0),lse=Af(Aie,!0),dse=Af(Mie,!0),lU_firebase={apiKey:"AIzaSyAaiF03WGAZnnhNN2He0pnSr6XN1zIN3i4",authDomain:"firechat-ex1.firebaseapp.com",databaseURL:"https://firechat-ex1-default-rtdb.firebaseio.com",projectId:"firechat-ex1",storageBucket:"firechat-ex1.appspot.com",messagingSenderId:"813785645896",appId:"1:813785645896:web:c53ee91b9fd5700612297d"};class Fr extends fi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vo;return this._value}next(e){super.next(this._value=e)}}class hse extends Ie{notifyNext(e,n,r,i,s){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class fse extends Ie{constructor(e,n,r){super(),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function pse(t,e,n,r,i=new fse(t,n,r)){if(!i.closed)return e instanceof J?e.subscribe(i):Ng(e)(i)}const dU={};class mse{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new yse(e,this.resultSelector))}}class yse extends hse{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(dU),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++)this.add(pse(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,r){const i=this.values,o=this.toRespond?i[r]===dU?--this.toRespond:this.toRespond:0;i[r]=n,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const tg=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function lT(...t){return Wu(1)(Y(...t))}function hU(t){return new J(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?At(n):Tf()).subscribe(e)})}function Is(t,e){return"function"==typeof e?n=>n.pipe(Is((r,i)=>At(t(r,i)).pipe(ve((s,o)=>e(r,s,i,o))))):n=>n.lift(new vse(t))}class vse{constructor(e){this.project=e}call(e,n){return n.subscribe(new Ese(e,this.project))}}class Ese extends Og{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const r=new kg(this),i=this.destination;i.add(r),this.innerSubscription=Pg(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const fU=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function dT(t){return e=>0===t?Tf():e.lift(new wse(t))}class wse{constructor(e){if(this.total=e,this.total<0)throw new fU}call(e,n){return n.subscribe(new bse(e,this.total))}}class bse extends Ie{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,r=++this.count;r<=n&&(this.destination.next(e),r===n&&(this.destination.complete(),this.unsubscribe()))}}function pU(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Cse(t,e,n))}}class Cse{constructor(e,n,r=!1){this.accumulator=e,this.seed=n,this.hasSeed=r}call(e,n){return n.subscribe(new Dse(e,this.accumulator,this.seed,this.hasSeed))}}class Dse extends Ie{constructor(e,n,r,i){super(e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let r;try{r=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Lu(t,e){return function(r){return r.lift(new Tse(t,e))}}class Tse{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new Ase(e,this.predicate,this.thisArg))}}class Ase extends Ie{constructor(e,n,r){super(e),this.predicate=n,this.thisArg=r,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(e)}}function xo(t){return function(n){const r=new Sse(t),i=n.lift(r);return r.caught=i}}class Sse{constructor(e){this.selector=e}call(e,n){return n.subscribe(new xse(e,this.selector,this.caught))}}class xse extends Og{constructor(e,n,r){super(e),this.selector=n,this.caught=r}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new kg(this);this.add(r);const i=Pg(n,r);i!==r&&this.add(i)}}}function ad(t,e){return St(t,e,1)}function hT(t){return function(n){return 0===t?Tf():n.lift(new Rse(t))}}class Rse{constructor(e){if(this.total=e,this.total<0)throw new fU}call(e,n){return n.subscribe(new Nse(e,this.total))}}class Nse extends Ie{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,r=this.total,i=this.count++;n.length<r?n.push(e):n[i%r]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=n++%r;e.next(i[o])}}e.complete()}}function gU(t=Ose){return e=>e.lift(new Mse(t))}class Mse{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new kse(e,this.errorFactory))}}class kse extends Ie{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function Ose(){return new tg}function mU(t=null){return e=>e.lift(new Pse(t))}class Pse{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new Fse(e,this.defaultValue))}}class Fse extends Ie{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Vu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lu((i,s)=>t(i,s,r)):le,dT(1),n?mU(e):gU(()=>new tg))}class Use{constructor(e){this.callback=e}call(e,n){return n.subscribe(new jse(e,this.callback))}}class jse extends Ie{constructor(e,n){super(e),this.add(new be(n))}}class Bi{constructor(e,n){this.id=e,this.url=n}}class fT extends Bi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ud extends Bi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yU extends Bi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bse extends Bi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $se extends Bi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hse extends Bi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gse extends Bi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qse extends Bi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wse extends Bi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _U{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vU{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zse{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kse{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qse{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yse{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oe="primary";class Jse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Uu(t){return new Jse(t)}const wU="ngNavigationCancelingError";function pT(t){const e=Error("NavigationCancelingError: "+t);return e[wU]=!0,e}function Xse(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ui(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bU(t[i],e[i]))return!1;return!0}function bU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function IU(t){return Array.prototype.concat.apply([],t)}function CU(t){return t.length>0?t[t.length-1]:null}function Ut(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ci(t){return _h(t)?t:Cc(t)?At(Promise.resolve(t)):Y(t)}const noe={exact:function AU(t,e,n){if(!No(t.segments,e.segments)||!ng(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!AU(t.children[r],e.children[r],n))return!1;return!0},subset:SU},DU={exact:function(t,e){return ui(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bU(t[n],e[n]))},ignored:()=>!0};function TU(t,e,n){return noe[n.paths](t.root,e.root,n.matrixParams)&&DU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function SU(t,e,n){return xU(t,e,e.segments,n)}function xU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!No(i,n)||e.hasChildren()||!ng(i,n,r))}if(t.segments.length===n.length){if(!No(t.segments,n)||!ng(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!SU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(No(t.segments,i)&&ng(t.segments,i,r)&&t.children[oe])&&xU(t.children[oe],e,s,r)}}function ng(t,e,n){return e.every((r,i)=>DU[n](t[i].parameters,r.parameters))}class Ro{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return aoe.serialize(this)}}class ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ut(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rg(this)}}class cd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return kU(this)}}function No(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class gT{}class RU{parse(e){const n=new moe(e);return new Ro(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){return`${`/${ld(e.root,!0)}`}${function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ig(n)}=${ig(i)}`).join("&"):`${ig(n)}=${ig(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:""}`}}const aoe=new RU;function rg(t){return t.segments.map(e=>kU(e)).join("/")}function ld(t,e){if(!t.hasChildren())return rg(t);if(e){const n=t.children[oe]?ld(t.children[oe],!1):"",r=[];return Ut(t.children,(i,s)=>{s!==oe&&r.push(`${s}:${ld(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Ut(t.children,(r,i)=>{i===oe&&(n=n.concat(e(r,i)))}),Ut(t.children,(r,i)=>{i!==oe&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===oe?[ld(t.children[oe],!1)]:[`${i}:${ld(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[oe]?`${rg(t)}/${n[0]}`:`${rg(t)}/(${n.join("//")})`}}function NU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ig(t){return NU(t).replace(/%3B/gi,";")}function mT(t){return NU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sg(t){return decodeURIComponent(t)}function MU(t){return sg(t.replace(/\+/g,"%20"))}function kU(t){return`${mT(t.path)}${function(t){return Object.keys(t).map(e=>`;${mT(e)}=${mT(t[e])}`).join("")}(t.parameters)}`}const doe=/^[^\/()?;=#]+/;function og(t){const e=t.match(doe);return e?e[0]:""}const hoe=/^[^=?&#]+/,poe=/^[^?&#]+/;class moe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new ce(e,n)),r}parseSegment(){const e=og(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new cd(sg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=og(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=og(this.remaining);i&&(r=i,this.capture(r))}e[sg(n)]=sg(r)}parseQueryParam(e){const n=function(t){const e=t.match(hoe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(poe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=MU(n),s=MU(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=og(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[oe]:new ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class OU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=yT(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=yT(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=_T(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _T(e,this._root).map(n=>n.value)}}function yT(t,e){if(t===e.value)return e;for(const n of e.children){const r=yT(t,n);if(r)return r}return null}function _T(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_T(t,n);if(r.length)return r.unshift(e),r}return[]}class $i{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function dd(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class PU extends OU{constructor(e,n){super(e),this.snapshot=n,vT(this,e)}toString(){return this.snapshot.toString()}}function FU(t,e){const n=function(t,e){const o=new ag([],{},{},"",{},oe,e,null,t.root,-1,{});return new VU("",new $i(o,[]))}(t,e),r=new Fr([new cd("",{})]),i=new Fr({}),s=new Fr({}),o=new Fr({}),a=new Fr(""),u=new ju(r,i,o,a,s,oe,e,n.root);return u.snapshot=n.root,new PU(new $i(u,[]),n)}class ju{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(e=>Uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(e=>Uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ag{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VU extends OU{constructor(e,n){super(n),this.url=e,vT(this,n)}toString(){return UU(this._root)}}function vT(t,e){e.value._routerState=t,e.children.forEach(n=>vT(t,n))}function UU(t){const e=t.children.length>0?` { ${t.children.map(UU).join(", ")} } `:"";return`${t.value}${e}`}function ET(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ui(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ui(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ui(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ui(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wT(t,e){return ui(t.params,e.params)&&function(t,e){return No(t,e)&&t.every((n,r)=>ui(n.parameters,e[r].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||wT(t.parent,e.parent))}function ug(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ug(t,r,i);return ug(t,r)})}(t,e,n);return new $i(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return jU(e,o),o}}const r=function(t){return new ju(new Fr(t.url),new Fr(t.params),new Fr(t.queryParams),new Fr(t.fragment),new Fr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ug(t,s));return new $i(r,i)}}function jU(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)jU(t.children[n],e.children[n])}function cg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hd(t){return"object"==typeof t&&null!=t&&t.outlets}function bT(t,e,n,r,i){let s={};return r&&Ut(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Ro(n.root===t?e:BU(n.root,t,e),s,i)}function BU(t,e,n){const r={};return Ut(t.children,(i,s)=>{r[s]=i===e?n:BU(i,e,n)}),new ce(t.segments,r)}class $U{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(hd);if(i&&i!==CU(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class IT{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function HU(t,e,n){if(t||(t=new ce([],{})),0===t.segments.length&&t.hasChildren())return lg(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(hd(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!qU(u,c,o))return s;r+=2}else{if(!qU(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ce(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new ce(t.segments.slice(r.pathIndex),t.children),lg(s,0,i)}return r.match&&0===i.length?new ce(t.segments,{}):r.match&&!t.hasChildren()?CT(t,e,n):r.match?lg(t,0,i):CT(t,e,n)}function lg(t,e,n){if(0===n.length)return new ce(t.segments,{});{const r=function(t){return hd(t[0])?t[0].outlets:{[oe]:t}}(n),i={};return Ut(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=HU(t.children[o],e,s))}),Ut(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ce(t.segments,i)}}function CT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(hd(s)){const u=Soe(s.outlets);return new ce(r,u)}if(0===i&&cg(n[0])){r.push(new cd(t.segments[e].path,GU(n[0]))),i++;continue}const o=hd(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&cg(a)?(r.push(new cd(o,GU(a))),i+=2):(r.push(new cd(o,{})),i++)}return new ce(r,{})}function Soe(t){const e={};return Ut(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=CT(new ce([],{}),0,n))}),e}function GU(t){const e={};return Ut(t,(n,r)=>e[r]=`${n}`),e}function qU(t,e,n){return t==n.path&&ui(e,n.parameters)}class Roe{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ET(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=dd(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ut(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=dd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=dd(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yse(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kse(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(ET(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),WU(a.route)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function WU(t){ET(t.value),t.children.forEach(WU)}class DT{constructor(e,n){this.routes=e,this.module=n}}function Cs(t){return"function"==typeof t}function Mo(t){return t instanceof Ro}const fd=Symbol("INITIAL_VALUE");function pd(){return Is(t=>function(...t){let e,n;return Id(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&hi(t[0])&&(t=t[0]),Fg(t,n).lift(new mse(e))}(t.map(e=>e.pipe(dT(1),function(...t){const e=t[t.length-1];return Id(e)?(t.pop(),n=>lT(t,n,e)):n=>lT(t,n)}(fd)))).pipe(pU((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==fd?i:(s===fd&&(r=!0),r||!1!==s&&o!==n.length-1&&!Mo(s)?i:s),e)},fd),Lu(e=>e!==fd),ve(e=>Mo(e)?e:!0===e),dT(1)))}let zU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ku({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&wy(0,"router-outlet")},directives:function(){return[MT]},encapsulation:2}),t})();function KU(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Loe(r,Voe(e,r))}}function Loe(t,e){t.children&&KU(t.children,e)}function Voe(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function TT(t){const e=t.children&&t.children.map(TT),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=zU),n}function pr(t){return t.outlet||oe}function QU(t,e){const n=t.filter(r=>pr(r)===e);return n.push(...t.filter(r=>pr(r)!==e)),n}const YU={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function dg(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},YU):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Xse)(n,t,e);if(!s)return Object.assign({},YU);const o={};Ut(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function hg(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>fg(t,e,r)&&pr(r)!==oe)}(t,n,r)){const o=new ce(e,function(t,e,n,r){const i={};i[oe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&pr(s)!==oe){const o=new ce([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[pr(s)]=o}return i}(t,e,r,new ce(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>fg(t,e,r))}(t,n,r)){const o=new ce(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(fg(t,n,a)&&!i[pr(a)]){const u=new ce([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[pr(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ce(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function fg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function JU(t,e,n,r){return!!(pr(t)===r||r!==oe&&fg(e,n,t))&&("**"===t.path||dg(e,t,n).matched)}function ZU(t,e,n){return 0===e.length&&!t.children[n]}class gd{constructor(e){this.segmentGroup=e||null}}class XU{constructor(e){this.urlTree=e}}function pg(t){return new J(e=>e.error(new gd(t)))}function e2(t){return new J(e=>e.error(new XU(t)))}function Hoe(t){return new J(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Woe{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Jr)}apply(){const e=hg(this.urlTree.root,[],[],this.config).segmentGroup,n=new ce(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,oe).pipe(ve(s=>this.createUrlTree(AT(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xo(s=>{if(s instanceof XU)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof gd?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,oe).pipe(ve(i=>this.createUrlTree(AT(i),e.queryParams,e.fragment))).pipe(xo(i=>{throw i instanceof gd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ce([],{[oe]:e}):e;return new Ro(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ve(s=>new ce([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return At(i).pipe(ad(s=>{const o=r.children[s],a=QU(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ve(u=>({segment:u,outlet:s})))}),pU((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lu((i,s)=>t(i,s,r)):le,hT(1),n?mU(e):gU(()=>new tg))}())}expandSegment(e,n,r,i,s,o){return At(r).pipe(ad(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(xo(c=>{if(c instanceof gd)return Y(null);throw c}))),Vu(a=>!!a),xo((a,u)=>{if(a instanceof tg||"EmptyError"===a.name){if(ZU(n,i,s))return Y(new ce([],{}));throw new gd(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return JU(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):pg(n):pg(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?e2(s):this.lineralizeSegments(r,s).pipe(St(o=>{const a=new ce(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=dg(n,i,s);if(!a)return pg(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?e2(d):this.lineralizeSegments(i,d).pipe(St(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Y(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ve(h=>(r._loadedConfig=h,new ce(i,{})))):Y(new ce(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=dg(n,r,i);if(!o)return pg(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(St(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=hg(n,a,c,f),g=new ce(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(ve(k=>new ce(a,k)));if(0===f.length&&0===m.length)return Y(new ce(a,{}));const v=pr(r)===s;return this.expandSegment(h,g,f,m,v?oe:s,!0).pipe(ve(T=>new ce(a.concat(T.segments),T.children)))}))}getChildConfig(e,n,r){return n.children?Y(new DT(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Y(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(St(i=>i?this.configLoader.load(e.injector,n).pipe(ve(s=>(n._loadedConfig=s,s))):function(t){return new J(e=>e.error(pT(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):Y(new DT([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?Y(i.map(o=>{const a=e.get(o);let u;if(function(t){return t&&Cs(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!Cs(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return ci(u)})).pipe(pd(),Dn(o=>{if(!Mo(o))return;const a=pT(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ve(o=>!0===o)):Y(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[oe])return Hoe(e.redirectTo);i=i.children[oe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ro(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ut(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ut(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function AT(t){const e={};for(const r of Object.keys(t.children)){const s=AT(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[oe]){const e=t.children[oe];return new ce(t.segments.concat(e.segments),e.children)}return t}(new ce(t.segments,e))}class t2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gg{constructor(e,n){this.component=e,this.route=n}}function Qoe(t,e,n){const r=t._root;return md(r,e?e._root:null,n,[r.value])}function mg(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function md(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=dd(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!No(t.url,e.url);case"pathParamsOrQueryParamsChange":return!No(t.url,e.url)||!ui(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wT(t,e)||!ui(t.queryParams,e.queryParams);case"paramsChange":default:return!wT(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new t2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),md(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gg(a.outlet.component,o))}else o&&yd(e,a,i),i.canActivateChecks.push(new t2(r)),md(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ut(s,(o,a)=>yd(o,n.getContext(a),i)),i}function yd(t,e,n){const r=dd(t),i=t.value;Ut(r,(s,o)=>{yd(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new gg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class uae{}function n2(t){return new J(e=>e.error(t))}class lae{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=hg(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,oe);if(null===n)return null;const r=new ag([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $i(r,n),s=new VU(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=LU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=QU(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=r2(r);return function(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return ZU(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!JU(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?CU(r).parameters:{};s=new ag(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,o2(e),pr(e),e.component,e,i2(n),s2(n)+r.length,a2(e))}else{const f=dg(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new ag(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,o2(e),pr(e),e.component,e,i2(n),s2(n)+o.length,a2(e))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=hg(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new $i(s,f)]}if(0===u.length&&0===l.length)return[new $i(s,[])];const d=pr(e)===i,h=this.processSegment(u,c,l,d?oe:i);return null===h?null:[new $i(s,h)]}}function fae(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function r2(t){const e=[],n=new Set;for(const r of t){if(!fae(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=r2(r.children);e.push(new $i(r.value,i))}return e.filter(r=>!n.has(r))}function i2(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function s2(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function o2(t){return t.data||{}}function a2(t){return t.resolve||{}}function ST(t){return Is(e=>{const n=t(e);return n?At(n).pipe(ve(()=>e)):Y(e)})}class wae extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const xT=new te("ROUTES");class u2{constructor(e,n,r,i){this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new DT(IU(o.injector.get(xT,void 0,V.Self|V.Optional)).map(TT),o)}),xo(s=>{throw n._loader$=void 0,s}));return n._loader$=new p0(i,()=>new fi).pipe(Lg()),n._loader$}loadModuleFactory(e){return"string"==typeof e?At(this.loader.load(e)):ci(e()).pipe(St(n=>n instanceof sN?Y(n):At(this.compiler.compileModuleAsync(n))))}}class bae{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Bu,this.attachRef=null}}class Bu{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new bae,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class Cae{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Dae(t){throw t}function Tae(t,e,n){return e.parse("/")}function c2(t,e){return Y(null)}const Aae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class t{constructor(n,r,i,s,o,a,u,c){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fi,this.errorHandler=Dae,this.malformedUriErrorHandler=Tae,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:c2,afterPreactivation:c2},this.urlHandlingStrategy=new Cae,this.routeReuseStrategy=new wae,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Jr),this.console=o.get(Lh);const h=o.get(Be);this.isNgZoneEnabled=h instanceof Be&&Be.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ro(new ce([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new u2(a,u,f=>this.triggerEvent(new _U(f)),f=>this.triggerEvent(new vU(f))),this.routerState=FU(this.currentUrlTree,this.rootComponentType),this.transitions=new Fr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Lu(i=>0!==i.id),ve(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Is(i=>{let s=!1,o=!1;return Y(i).pipe(Dn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Is(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return yg(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(Is(d=>{const h=this.transitions.getValue();return r.next(new fT(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?za:Promise.resolve(d)}),function(t,e,n,r){return Is(i=>function(t,e,n,r,i){return new Woe(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ve(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Dn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return St(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new lae(t,e,n,r,i,s).recognize();return null===o?n2(new uae):Y(o)}catch(o){return n2(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ve(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Dn(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new $se(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,v=new fT(h,this.serializeUrl(f),p,m);r.next(v);const y=FU(f,this.rootComponentType).snapshot;return Y(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),za}),ST(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Dn(a=>{const u=new Hse(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ve(a=>Object.assign(Object.assign({},a),{guards:Qoe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return St(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return At(t).pipe(St(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=mg(a,e,i);let c;if(function(t){return t&&Cs(t.canDeactivate)}(u))c=ci(u.canDeactivate(t,e,n,r));else{if(!Cs(u))throw new Error("Invalid CanDeactivate guard");c=ci(u(t,e,n,r))}return c.pipe(Vu())})).pipe(pd()):Y(!0)}(i.component,i.route,n,e,r)),Vu(i=>!0!==i,!0))}(o,r,i,t).pipe(St(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return At(e).pipe(ad(i=>lT(function(t,e){return null!==t&&e&&e(new zse(t)),Y(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new Qse(t)),Y(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>hU(()=>Y(o.guards.map(u=>{const c=mg(u,o.node,n);let l;if(function(t){return t&&Cs(t.canActivateChild)}(c))l=ci(c.canActivateChild(r,t));else{if(!Cs(c))throw new Error("Invalid CanActivateChild guard");l=ci(c(r,t))}return l.pipe(Vu())})).pipe(pd())));return Y(s).pipe(pd())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Y(r.map(s=>hU(()=>{const o=mg(s,e,n);let a;if(function(t){return t&&Cs(t.canActivate)}(o))a=ci(o.canActivate(e,t));else{if(!Cs(o))throw new Error("Invalid CanActivate guard");a=ci(o(e,t))}return a.pipe(Vu())}))).pipe(pd()):Y(!0)}(t,i.route,n))),Vu(i=>!0!==i,!0))}(r,s,t,e):Y(a)),ve(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Dn(a=>{if(Mo(a.guardsResult)){const c=pT(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new Gse(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Lu(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),ST(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(Dn(u=>{const c=new qse(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Is(u=>{let c=!1;return Y(u).pipe(function(t,e){return St(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return At(i).pipe(ad(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Y({});const s={};return At(i).pipe(St(o=>function(t,e,n,r){const i=mg(t,e,r);return ci(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Dn(a=>{s[o]=a}))),hT(1),St(()=>Object.keys(s).length===i.length?Y(s):za))}(t._resolve,t,e,r).pipe(ve(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),LU(t,n).resolve),null)))}(o.route,r,t,e)),Dn(()=>s++),hT(1),St(o=>s===i.length?Y(n):za))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Dn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Dn(u=>{const c=new Wse(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),ST(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ve(a=>{const u=function(t,e,n){const r=ug(t,e._root,n?n._root:void 0);return new PU(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Dn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ve(r=>(new Roe(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Dn({next(){s=!0},complete(){s=!0}}),function(t){return e=>e.lift(new Use(t))}(()=>{var a;if(!s&&!o){const u=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,u)):this.cancelNavigationTransition(i,u)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),xo(a=>{if(o=!0,function(t){return t&&t[wU]}(a)){const u=Mo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new yU(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yg(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new Bse(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return za}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const u=Object.assign({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(a.state=u)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(n){var r;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,r){if(!n)return!0;const i=r.urlTree.toString()===n.urlTree.toString();return r.transitionId!==n.transitionId||!i||!("hashchange"===r.source&&"popstate"===n.source||"popstate"===r.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){KU(n),this.config=n.map(TT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return bT(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $U(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ut(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $U(n,e,r)}(n);if(s.toRoot())return bT(e.root,new ce([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new IT(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new IT(s,s===e.root,0)}const r=cg(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new IT(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?lg(o.segmentGroup,o.index,s.commands):HU(o.segmentGroup,o.index,s.commands);return bT(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Mo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Aae):!1===r?Object.assign({},Sae):r,Mo(n))return TU(this.currentUrlTree,n,i);const s=this.parseUrl(n);return TU(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new ud(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),l=yg(r)&&c&&!yg(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===n.toString();if(l&&f)return Promise.resolve(!0);let p,m,g;o?(p=o.resolve,m=o.reject,g=o.promise):g=new Promise((T,k)=>{p=T,m=k});const v=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):y=0,this.setTransition({id:v,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:p,reject:m,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(T=>Promise.reject(T))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new yU(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(R(zd),R(gT),R(Bu),R(Yh),R(ye),R(Uh),R(zs),R(void 0))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function yg(t){return"imperative"!==t}let MT=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new dt,this.deactivateEvents=new dt,this.name=s||oe,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new Mae(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(I(Bu),I(Tr),I(Gs),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(W0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ut(),t)}("name"),I(Vy))},t.\u0275dir=j({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Mae{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ju?this.route:e===Bu?this.childContexts:this.parent.get(e,n)}}class l2{}class d2{preload(e,n){return Y(null)}}let h2=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=new u2(r,i,c=>n.triggerEvent(new _U(c)),c=>n.triggerEvent(new vU(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(Lu(n=>n instanceof ud),ad(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Jr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return At(i).pipe(Wu(),ve(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Y(r._loadedConfig):this.loader.load(n.injector,r)).pipe(St(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(R(Nn),R(Uh),R(zs),R(ye),R(l2))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),kT=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof fT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ud&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof EU&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new EU(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(R(Nn),R(fk),R(void 0))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();const ko=new te("ROUTER_CONFIGURATION"),f2=new te("ROUTER_FORROOT_GUARD"),Oae=[Yh,{provide:gT,useClass:RU},{provide:Nn,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new Nn(null,t,e,n,r,i,s,IU(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),l},deps:[gT,Bu,Yh,ye,Uh,zs,xT,ko,[class{},new Fe],[class{},new Fe]]},Bu,{provide:ju,useFactory:function(t){return t.routerState.root},deps:[Nn]},{provide:Uh,useClass:F4},h2,d2,class{preload(e,n){return n().pipe(xo(()=>Y(null)))}},{provide:ko,useValue:{enableTracing:!1}}];function Pae(){return new E_("Router",Nn)}let p2=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[Oae,g2(n),{provide:f2,useFactory:Vae,deps:[[Nn,new Fe,new Xi]]},{provide:ko,useValue:r||{}},{provide:ja,useFactory:Lae,deps:[Ys,[new ta(L_),new Fe],ko]},{provide:kT,useFactory:Fae,deps:[Nn,fk,ko]},{provide:l2,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:d2},{provide:E_,multi:!0,useFactory:Pae},[OT,{provide:Hc,multi:!0,useFactory:$ae,deps:[OT]},{provide:m2,useFactory:Hae,deps:[OT]},{provide:aM,multi:!0,useExisting:m2}]]}}static forChild(n){return{ngModule:t,providers:[g2(n)]}}}return t.\u0275fac=function(n){return new(n||t)(R(f2,8),R(Nn,8))},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({}),t})();function Fae(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kT(t,e,n)}function Lae(t,e,n={}){return n.useHash?new n7(t,e):new JM(t,e)}function Vae(t){return"guarded"}function g2(t){return[{provide:ZB,multi:!0,useValue:t},{provide:xT,multi:!0,useValue:t}]}let OT=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fi}appInitializer(){return this.injector.get(X6,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Nn),o=this.injector.get(ko);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ko),i=this.injector.get(h2),s=this.injector.get(kT),o=this.injector.get(Nn),a=this.injector.get(La);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(R(ye))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();function $ae(t){return t.appInitializer.bind(t)}function Hae(t){return t.bootstrapListener.bind(t)}const m2=new te("Router Initializer");let qae=(()=>{class t{constructor(n){this.firestore=n,this.chats=[]}obtenerCollection(){const n=lse(this.firestore,"chats");return cse(n).pipe(ve(r=>{this.chats=r,console.log(this.chats)}))}}return t.\u0275fac=function(n){return new(n||t)(R(eg))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _g(t,e){return new J(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=At(t[a]);let c=!1;n.add(u.subscribe({next:l=>{c||(c=!0,o++),i[a]=l},error:l=>n.error(l),complete:()=>{s++,(s===r||!c)&&(o===r&&n.next(e?e.reduce((l,d,h)=>(l[d]=i[h],l),{}):i),n.complete())}}))}})}let y2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(bi),I(yt))},t.\u0275dir=j({type:t}),t})(),Oo=(()=>{class t extends y2{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=nr(t)))(r||t)}}(),t.\u0275dir=j({type:t,features:[ke]}),t})();const li=new te("NgValueAccessor"),Kae={provide:li,useExisting:Se(()=>vg),multi:!0},Yae=new te("CompositionEventMode");let vg=(()=>{class t extends y2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Zr()?Zr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(bi),I(yt),I(Yae,8))},t.\u0275dir=j({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&wn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([Kae]),ke]}),t})();const Zt=new te("NgValidators"),Ts=new te("NgAsyncValidators");function S2(t){return null!=t}function x2(t){const e=Cc(t)?At(t):t;return _h(e),e}function R2(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function N2(t,e){return e.map(n=>n(t))}function M2(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function PT(t){return null!=t?function(t){if(!t)return null;const e=t.filter(S2);return 0==e.length?null:function(n){return R2(N2(n,e))}}(M2(t)):null}function FT(t){return null!=t?function(t){if(!t)return null;const e=t.filter(S2);return 0==e.length?null:function(n){return function(...t){if(1===t.length){const e=t[0];if(hi(e))return _g(e,null);if(Gi(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return _g(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return _g(t=1===t.length&&hi(t[0])?t[0]:t,null).pipe(ve(n=>e(...n)))}return _g(t,null)}(N2(n,e).map(x2)).pipe(ve(R2))}}(M2(t)):null}function P2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LT(t){return t?Array.isArray(t)?t:[t]:[]}function Eg(t,e){return Array.isArray(t)?t.includes(e):t===e}function V2(t,e){const n=LT(e);return LT(t).forEach(i=>{Eg(n,i)||n.push(i)}),n}function U2(t,e){return LT(e).filter(n=>!Eg(t,n))}let j2=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=PT(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=FT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,r){return!!this.control&&this.control.hasError(n,r)}getError(n,r){return this.control?this.control.getError(n,r):null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=j({type:t}),t})(),gn=(()=>{class t extends j2{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=nr(t)))(r||t)}}(),t.\u0275dir=j({type:t,features:[ke]}),t})();class Ss extends j2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let $2=(()=>{class t extends class{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Ss,2))},t.\u0275dir=j({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&vh("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ke]}),t})();function _d(t,e){(function(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(P2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(P2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Cg(e._rawValidators,i),Cg(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&H2(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&H2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Cg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function H2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Tg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vd="VALID",Ag="INVALID",Hu="PENDING",Ed="DISABLED";function HT(t){return(qT(t)?t.validators:t)||null}function W2(t){return Array.isArray(t)?PT(t):t||null}function GT(t,e){return(qT(e)?e.asyncValidators:t)||null}function z2(t){return Array.isArray(t)?FT(t):t||null}function qT(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class WT{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=W2(this._rawValidators),this._composedAsyncValidatorFn=z2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vd}get invalid(){return this.status===Ag}get pending(){return this.status==Hu}get disabled(){return this.status===Ed}get enabled(){return this.status!==Ed}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=W2(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=z2(e)}addValidators(e){this.setValidators(V2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(V2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(U2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(U2(e,this._rawAsyncValidators))}hasValidator(e){return Eg(this._rawValidators,e)}hasAsyncValidator(e){return Eg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ed,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vd||this.status===Hu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ed:vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hu,this._hasOwnPendingAsyncValidator=!0;const n=x2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof zT?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof due&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?Ed:this.errors?Ag:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hu)?Hu:this._anyControlsHaveStatus(Ag)?Ag:vd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Sg extends WT{constructor(e=null,n,r){super(HT(n),GT(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class zT extends WT{constructor(e,n,r){super(HT(n),GT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof Sg?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class due extends WT{constructor(e,n,r){super(HT(n),GT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof Sg?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pue={provide:Ss,useExisting:Se(()=>QT)},Y2=(()=>Promise.resolve(null))();let QT=(()=>{class t extends Ss{constructor(n,r,i,s){super(),this.control=new Sg,this._registered=!1,this.update=new dt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vg?n=s:function(t){return Object.getPrototypeOf(t.constructor)===Oo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_d(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Y2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;Y2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(I(gn,9),I(Zt,10),I(Ts,10),I(li,10))},t.\u0275dir=j({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Le([pue]),ke,$t]}),t})(),Z2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({}),t})(),gj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({imports:[[Z2]]}),t})(),Uue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({imports:[gj]}),t})();function jue(t,e){if(1&t&&(vn(0,"div",4),vn(1,"span",5),Ca(2,"Fernando"),En(),vn(3,"p"),Ca(4),En(),En()),2&t){const n=e.$implicit;ah(4),Dy(n.mensaje)}}const Bue=[{path:"**",component:(()=>{class t{constructor(n){this.firechat=n,this.mensaje="",this.firechat.obtenerCollection().subscribe(),console.log(this.firechat.chats)}ngOnInit(){}enviarMensaje(){console.log(this.mensaje)}}return t.\u0275fac=function(n){return new(n||t)(I(qae))},t.\u0275cmp=Ku({type:t,selectors:[["app-chat"]],decls:8,vars:2,consts:[[1,"app-mensajes"],["class","text-end",4,"ngFor","ngForOf"],[1,"badge","bg-success"],["type","text","name","mensaje","placeholder","Escribir mensaje...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"text-end"],[1,"badge","bg-primary"]],template:function(n,r){1&n&&(vn(0,"div",0),function(t,e,n,r,i,s,o,a){const u=b(),c=he(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=oa(e,t,4,o||null,Qi(c,a));ey(e,n,l,Qi(c,u)),Vd(e,l);const d=l.tViews=dh(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];jr(d,!1);const h=u[11].createComment("");sh(c,u,h,d),Ht(h,u),hh(u,u[l]=MS(h,u,h,d)),Md(d)&&Zm(c,u,d),null!=o&&Xm(u,d,a)}(1,jue,5,1,"div",1),vn(2,"div"),vn(3,"span",2),Ca(4,"Susana"),En(),vn(5,"p"),Ca(6,"Este es otro mensaje del chat"),En(),En(),En(),vn(7,"input",3),wn("ngModelChange",function(s){return r.mensaje=s})("keyup.enter",function(){return r.enviarMensaje()}),En()),2&n&&(ah(1),yh("ngForOf",r.firechat.chats),ah(6),yh("ngModel",r.mensaje))},directives:[ak,vg,$2,QT],styles:[""]}),t})()}];let $ue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=en({imports:[[p2.forRoot(Bue)],p2]}),t})(),Hue=(()=>{class t{constructor(){this.title="fireChat"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Ku({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container","main-container"],[1,"display-4"],[1,"row","justify-content-center"],[1,"chat-window","mt-4"]],template:function(n,r){1&n&&(vn(0,"div",0),vn(1,"h1",1),Ca(2,"FireChat"),En(),vn(3,"div",2),vn(4,"div",3),wy(5,"router-outlet"),En(),En(),En())},directives:[MT],styles:[""]}),t})(),Gue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t,bootstrap:[Hue]}),t.\u0275inj=en({providers:[],imports:[[f5,$ue,Uue,FJ(()=>LJ(lU_firebase)),use(()=>dse())]]}),t})();(function(){if(pM)throw new Error("Cannot enable prod mode after platform setup.");fM=!1})(),d5().bootstrapModule(Gue).catch(t=>console.error(t))}},Fo=>{Fo(Fo.s=473)}]);